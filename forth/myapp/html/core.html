<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>core</title>
<link rel="stylesheet" href="doc.css">
</head>
<body>
<h1>core</h1>
<pre class="forth">
<font color=black>
<hr>

</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>Core definitions 

</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>You can compile to either check address alignment or not. 
</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>Set to 1 for testing, 0 otherwise. 

</font><font color=#AA0000>0  </font><font color=#00AAAA><a href = "root.html#1.0150" style="text-decoration: none; color: #00AAAA">equ</a>  </font><font color=#AA00AA>check_alignment                   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0000 -- n 
</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>enable @, !, w@, and w! to check address alignment 

</font><font color=#AA0000>0  </font><font color=#AA00AA><a href = "root.html#1.0074" style="text-decoration: none; color: #AA00AA">cp</a>  </font><font color=#FF00FF><a href = "root.html#1.2560" style="text-decoration: none; color: #FF00FF">_!</a>  <a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a> 
</font><font color=#00AAAA><a href = "root.html#1.1310" style="text-decoration: none; color: #00AAAA">later</a>  </font><font color=#FF0000>coldboot                          &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0010 -- \ boots here 
</font><font color=#00AAAA><a href = "root.html#1.1310" style="text-decoration: none; color: #00AAAA">later</a>  </font><font color=#FF0000>irqtick 
</font><font color=#00AAAA><a href = "root.html#1.1220" style="text-decoration: none; color: #00AAAA">:noname</a>  <a href = "root.html#1.1230" style="text-decoration: none; color: #00AAAA">exit</a>  <a href = "root.html#1.1230" style="text-decoration: none; color: #00AAAA">exit</a>  <a href = "root.html#1.1230" style="text-decoration: none; color: #00AAAA">exit</a>  <a href = "root.html#1.1230" style="text-decoration: none; color: #00AAAA">exit</a>  <a href = "root.html#1.1230" style="text-decoration: none; color: #00AAAA">exit</a>  <a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>  </font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a>  </font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>inactive interrupt vectors 
</font><font color=#00AAAA><a href = "root.html#1.1310" style="text-decoration: none; color: #00AAAA">later</a>  </font><font color=#FF0000>throw                             &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0020 n -- 

</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>noop  &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2000" style="text-decoration: none; color: #FF00FF">nop</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>                           &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0100 -- 

</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>The I/O is allowed to drop CKE on the processor. 
</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>Allow for code memory to double-feed the instruction following the pause 
</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>by putting a nop there. Such an allowance is not made for data memory. 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>io@   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2580" style="text-decoration: none; color: #FF00FF">_io@</a>  <a href = "root.html#1.2000" style="text-decoration: none; color: #FF00FF">nop</a>  <a href = "root.html#1.2590" style="text-decoration: none; color: #FF00FF">_io@_</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>                &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0110 addr -- n 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>io!   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2570" style="text-decoration: none; color: #FF00FF">_io!</a>  <a href = "root.html#1.2000" style="text-decoration: none; color: #FF00FF">nop</a>  <a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>                 &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0120 n addr -- 

</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>=     &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2060" style="text-decoration: none; color: #FF00FF">xor</a>  <a href = "root.html#1.2150" style="text-decoration: none; color: #FF00FF">0=</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>                        &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0130 n1 n2 -- flag 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000><>     &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2060" style="text-decoration: none; color: #FF00FF">xor</a>  <a href = "root.html#1.2150" style="text-decoration: none; color: #FF00FF">0=</a>  <a href = "root.html#1.2150" style="text-decoration: none; color: #FF00FF">0=</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>                    &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0135 n1 n2 -- flag 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000><     &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2090" style="text-decoration: none; color: #FF00FF">-</a>  <a href = "root.html#1.2160" style="text-decoration: none; color: #FF00FF">0<</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>  <a href = "root.html#1.1330" style="text-decoration: none; color: #00AAAA">macro</a>                    &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0140 n1 n2 -- flag 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>>     &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a>  </font><font color=#0000FF><a href = "forth.html#2.0140" style="text-decoration: none; color: #0000FF"><</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>                        &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0150 n1 n2 -- flag 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>cell+  </font><font color=#AA00AA><a href = "root.html#1.0060" style="text-decoration: none; color: #AA00AA">cell</a>  </font><font color=#FF00FF><a href = "root.html#1.2080" style="text-decoration: none; color: #FF00FF">+</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>  <a href = "root.html#1.1330" style="text-decoration: none; color: #00AAAA">macro</a>                  &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0160 a-addr1 -- a-addr2 

</font><font color=#AA00AA><a href = "root.html#1.0060" style="text-decoration: none; color: #AA00AA">cell</a>  </font><font color=#AA0000>4  </font><font color=#0000FF><a href = "forth.html#2.0130" style="text-decoration: none; color: #0000FF">=</a>  </font><font color=#00AAAA><a href = "root.html#1.0260" style="text-decoration: none; color: #00AAAA">[if]</a> 
   &nbsp;:  cells  2*  2*  ;  macro               &nbsp;\  2.0170  n1  --  n2 
   &nbsp;:  _cw!  &nbsp;\  end  a  c!  or  w!            &nbsp;\  u  mask  addr 
       &nbsp;>r  &nbsp;swap  over  and               &nbsp;\  m  u'  |  addr 
       &nbsp;swap  invert                     &nbsp;\  u'  mask  |  addr 
       &nbsp;r@  &nbsp;_@  _@_  &nbsp;and  &nbsp;+ 
       &nbsp;r>  &nbsp;_!  drop 
   &nbsp;; 
   &nbsp;:  c!  (  u  c-addr  --  )                &nbsp;\  2.0180  c  c-addr  -- 
       &nbsp;dup>r  2  and  if 
           &nbsp;r@  1  and  if  &nbsp;swapw  &nbsp;swapb  &nbsp;$FF000000 
           &nbsp;else         &nbsp;swapw         &nbsp;$FF0000 
           &nbsp;then 
       &nbsp;else 
           &nbsp;r@  1  and  if  &nbsp;swapb         &nbsp;$FF00 
           &nbsp;else                       &nbsp;$FF 
           &nbsp;then 
       &nbsp;then 
       &nbsp;r>  _cw! 
   &nbsp;; 
   &nbsp;:  c@                                &nbsp;\  2.0200  c-addr  --  c 
       &nbsp;_@  _dup@ 
       &nbsp;over  1  and  if  swapb  then 
       &nbsp;swap  2  and  if  swapw  then 
       &nbsp;$FF  and 
   &nbsp;; 

 &nbsp;check_alignment  [if] 
   &nbsp;:  (ta)  &nbsp;(  a  mask  --  a  ) 
         &nbsp;over  and  if  &nbsp;22  invert  throw  &nbsp;then  ; 
   &nbsp;:  @   &nbsp;3  (ta)  &nbsp;_@  _@_  ;              &nbsp;\  2.0210  a-addr  --  x 
   &nbsp;:  !   &nbsp;3  (ta)  &nbsp;_!  drop  ;             &nbsp;\  2.0200  x  a-addr  -- 
   &nbsp;:  w!  &nbsp;(  u  w-addr  --  )               &nbsp;\  2.0190  w  addr  -- 
       &nbsp;1  (ta) 
       &nbsp;dup>r  2  and  if  &nbsp;swapw  &nbsp;$FFFF0000 
       &nbsp;else  &nbsp;$FFFF  &nbsp;then 
       &nbsp;r>  _cw! 
   &nbsp;; 
   &nbsp;:  w@  &nbsp;(  w-addr  --  u  )               &nbsp;\  2.0220  addr  --  w 
       &nbsp;1  (ta) 
       &nbsp;_@  _dup@  &nbsp;swap  2  and  if  swapw  then 
       &nbsp;$FFFF  and 
   &nbsp;; 
 &nbsp;[else] 
   &nbsp;:  @   &nbsp;_@  _@_  ;  &nbsp;(  macro  )           &nbsp;\  2.0210  a-addr  --  x 
   &nbsp;:  !   &nbsp;_!  drop  ;  (  macro  )           &nbsp;\  2.0200  x  a-addr  -- 
   &nbsp;:  w!  (  u  c-addr  --  )                &nbsp;\  2.0190  w  w-addr  -- 
       &nbsp;dup>r  2  and  if  &nbsp;swapw  &nbsp;$FFFF0000 
       &nbsp;else  &nbsp;$FFFF  &nbsp;then 
       &nbsp;r>  _cw! 
   &nbsp;; 
   &nbsp;:  w@                                &nbsp;\  2.0220  w-addr  --  w 
       &nbsp;_@  _dup@  &nbsp;swap  2  and  if  swapw  then 
       &nbsp;$FFFF  and 
   &nbsp;; 
 &nbsp;[then] 
[else]  </font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>16-bit or 18-bit cells 
   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>cells  </font><font color=#FF00FF><a href = "root.html#1.2020" style="text-decoration: none; color: #FF00FF">2*</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>  <a href = "root.html#1.1330" style="text-decoration: none; color: #00AAAA">macro</a>                  &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0170 n1 -- n2 
 &nbsp;</font><font color=#AA00AA><a href = "forth.html#2.0000" style="text-decoration: none; color: #AA00AA">check_alignment</a>  </font><font color=#00AAAA><a href = "root.html#1.0260" style="text-decoration: none; color: #00AAAA">[if]</a> 
   &nbsp;:  (ta)  &nbsp;over  and  if  &nbsp;22  invert  throw  &nbsp;then  ; 
 :  w@  &nbsp;[  ; 
   &nbsp;:  @   &nbsp;1  (ta)  &nbsp;_@  _@_  ;              &nbsp;\  2.0210  a-addr  --  x 
 :  w!  &nbsp;[  ; 
   &nbsp;:  !   &nbsp;1  (ta)  &nbsp;_!  drop  ;             &nbsp;\  2.0200  x  a-addr  -- 
 &nbsp;[else] 
 </font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>w@  &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1170" style="text-decoration: none; color: #00AAAA">[</a>  <a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 
   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>@   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2540" style="text-decoration: none; color: #FF00FF">_@</a>  <a href = "root.html#1.2550" style="text-decoration: none; color: #FF00FF">_@_</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>  <a href = "root.html#1.1010" style="text-decoration: none; color: #00AAAA">(</a>  </font><font color=#008800>macro  )           &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0210 a-addr -- x 
 </font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>w!  &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1170" style="text-decoration: none; color: #00AAAA">[</a>  <a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 
   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>!   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2560" style="text-decoration: none; color: #FF00FF">_!</a>  <a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>  <a href = "root.html#1.1010" style="text-decoration: none; color: #00AAAA">(</a>  </font><font color=#008800>macro  )          &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0200 x a-addr -- 
 &nbsp;</font><font color=#00AAAA><a href = "root.html#1.0270" style="text-decoration: none; color: #00AAAA">[then]</a> 
   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>c!  </font><font color=#00AAAA><a href = "root.html#1.1010" style="text-decoration: none; color: #00AAAA">(</a>  </font><font color=#008800>u c-addr --  )               &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0180 c c-addr -- 
       &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2700" style="text-decoration: none; color: #FF00FF">dup>r</a>  </font><font color=#AA0000>1  </font><font color=#FF00FF><a href = "root.html#1.2070" style="text-decoration: none; color: #FF00FF">and</a>  </font><font color=#00AAAA><a href = "root.html#1.2930" style="text-decoration: none; color: #00AAAA">if</a>  &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2640" style="text-decoration: none; color: #FF00FF">swapb</a>  &nbsp;</font><font color=#AA0000>$FF00  &nbsp;</font><font color=#00AAAA><a href = "root.html#1.2940" style="text-decoration: none; color: #00AAAA">else</a>  &nbsp;</font><font color=#AA0000>$FF  &nbsp;</font><font color=#00AAAA><a href = "root.html#1.2950" style="text-decoration: none; color: #00AAAA">then</a> 
       &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a>  <a href = "root.html#1.2110" style="text-decoration: none; color: #FF00FF">over</a>  <a href = "root.html#1.2070" style="text-decoration: none; color: #FF00FF">and</a>                   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>m u' | addr 
       &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a>  <a href = "root.html#1.2010" style="text-decoration: none; color: #FF00FF">invert</a>                     &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>u' mask | addr 
       &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2190" style="text-decoration: none; color: #FF00FF">r@</a>  <a href = "root.html#1.2540" style="text-decoration: none; color: #FF00FF">_@</a>  <a href = "root.html#1.2550" style="text-decoration: none; color: #FF00FF">_@_</a>  <a href = "root.html#1.2070" style="text-decoration: none; color: #FF00FF">and</a>  &nbsp;<a href = "root.html#1.2080" style="text-decoration: none; color: #FF00FF">+</a> 
       &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2180" style="text-decoration: none; color: #FF00FF">r></a>  <a href = "root.html#1.2560" style="text-decoration: none; color: #FF00FF">_!</a>  <a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a> 
   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 
   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>c@                                &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0200 c-addr -- c 
       &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2540" style="text-decoration: none; color: #FF00FF">_@</a>  <a href = "root.html#1.2730" style="text-decoration: none; color: #FF00FF">_dup@</a>  &nbsp;<a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a>  </font><font color=#AA0000>1  </font><font color=#FF00FF><a href = "root.html#1.2070" style="text-decoration: none; color: #FF00FF">and</a>  </font><font color=#00AAAA><a href = "root.html#1.2930" style="text-decoration: none; color: #00AAAA">if</a>  </font><font color=#FF00FF><a href = "root.html#1.2640" style="text-decoration: none; color: #FF00FF">swapb</a>  </font><font color=#00AAAA><a href = "root.html#1.2950" style="text-decoration: none; color: #00AAAA">then</a> 
       &nbsp;</font><font color=#AA0000>$FF  </font><font color=#FF00FF><a href = "root.html#1.2070" style="text-decoration: none; color: #FF00FF">and</a> 
   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 
</font><font color=#00AAAA><a href = "root.html#1.0270" style="text-decoration: none; color: #00AAAA">[then]</a> 

</font><font color=#AA00AA><a href = "root.html#1.0080" style="text-decoration: none; color: #AA00AA">state</a>  <a href = "root.html#1.0060" style="text-decoration: none; color: #AA00AA">cell</a>  </font><font color=#FF00FF><a href = "root.html#1.2080" style="text-decoration: none; color: #FF00FF">+</a>  </font><font color=#AA00AA><a href = "root.html#1.0073" style="text-decoration: none; color: #AA00AA">dp</a>  </font><font color=#0000FF><a href = "forth.html#2.0200" style="text-decoration: none; color: #0000FF">!</a>  </font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>skip shared variables, new variables can now be defined. 

</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>Your code can usually use + instead of OR, but if it's needed: 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>or    &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2010" style="text-decoration: none; color: #FF00FF">invert</a>  <a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a>  <a href = "root.html#1.2010" style="text-decoration: none; color: #FF00FF">invert</a>  <a href = "root.html#1.2070" style="text-decoration: none; color: #FF00FF">and</a>  <a href = "root.html#1.2010" style="text-decoration: none; color: #FF00FF">invert</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>  <a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0300 n m -- n|m 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>rot   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2170" style="text-decoration: none; color: #FF00FF">>r</a>  <a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a>  <a href = "root.html#1.2180" style="text-decoration: none; color: #FF00FF">r></a>  <a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>               &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0310 x1 x2 x3 -- x2 x3 x1 

</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>execute  &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2020" style="text-decoration: none; color: #FF00FF">2*</a>  <a href = "root.html#1.2170" style="text-decoration: none; color: #FF00FF">>r</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>  <a href = "root.html#1.1350" style="text-decoration: none; color: #00AAAA">no-tail-recursion</a>    &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0320 i*x xt -- j*x 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>?dup   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2100" style="text-decoration: none; color: #FF00FF">dup</a>  </font><font color=#00AAAA><a href = "root.html#1.2930" style="text-decoration: none; color: #00AAAA">if</a>  </font><font color=#FF00FF><a href = "root.html#1.2100" style="text-decoration: none; color: #FF00FF">dup</a>  </font><font color=#00AAAA><a href = "root.html#1.2950" style="text-decoration: none; color: #00AAAA">then</a>  <a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>              &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0325 x -- 0 | x x 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>2dup   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2110" style="text-decoration: none; color: #FF00FF">over</a>  <a href = "root.html#1.2110" style="text-decoration: none; color: #FF00FF">over</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>  <a href = "root.html#1.1330" style="text-decoration: none; color: #00AAAA">macro</a>              &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0330 d -- d d 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>2drop  &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a>  <a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>                    &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0340 d -- 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>char+  </font><font color=#00AAAA><a href = "root.html#1.1170" style="text-decoration: none; color: #00AAAA">[</a>  <a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>                             &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0350 c-addr1 -- c-addr2 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>1+     &nbsp;</font><font color=#AA0000>1  </font><font color=#FF00FF><a href = "root.html#1.2080" style="text-decoration: none; color: #FF00FF">+</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>  &nbsp;<a href = "root.html#1.1330" style="text-decoration: none; color: #00AAAA">macro</a>                   &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0360 n -- n+1 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>1-     &nbsp;</font><font color=#AA0000>1  </font><font color=#FF00FF><a href = "root.html#1.2090" style="text-decoration: none; color: #FF00FF">-</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>  &nbsp;<a href = "root.html#1.1330" style="text-decoration: none; color: #00AAAA">macro</a>                   &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0370 n -- n-1 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>negate  </font><font color=#FF00FF><a href = "root.html#1.2010" style="text-decoration: none; color: #FF00FF">invert</a>  </font><font color=#0000FF><a href = "forth.html#2.0360" style="text-decoration: none; color: #0000FF">1+</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>                    &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0380 n -- -n 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>tuck   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a>  <a href = "root.html#1.2110" style="text-decoration: none; color: #FF00FF">over</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>  <a href = "root.html#1.1330" style="text-decoration: none; color: #00AAAA">macro</a>              &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0390 n1 n2 -- n2 n1 n2 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>+!     &nbsp;</font><font color=#0000FF><a href = "forth.html#2.0390" style="text-decoration: none; color: #0000FF">tuck</a>  <a href = "forth.html#2.0210" style="text-decoration: none; color: #0000FF">@</a>  </font><font color=#FF00FF><a href = "root.html#1.2080" style="text-decoration: none; color: #FF00FF">+</a>  <a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a>  </font><font color=#0000FF><a href = "forth.html#2.0200" style="text-decoration: none; color: #0000FF">!</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>              &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0400 n a-addr -- 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>?exit  &nbsp;</font><font color=#00AAAA><a href = "root.html#1.2930" style="text-decoration: none; color: #00AAAA">if</a>  </font><font color=#FF00FF><a href = "root.html#1.2710" style="text-decoration: none; color: #FF00FF">rdrop</a>  </font><font color=#00AAAA><a href = "root.html#1.2950" style="text-decoration: none; color: #00AAAA">then</a>  <a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>  <a href = "root.html#1.1350" style="text-decoration: none; color: #00AAAA">no-tail-recursion</a>  <a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>flag -- 

</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>This really comes in handy, although there is a small (9T) time penalty. 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>times                                 &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0405 n xt -- 
   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a>  <a href = "root.html#1.2100" style="text-decoration: none; color: #FF00FF">dup</a>  </font><font color=#0000FF><a href = "forth.html#2.0370" style="text-decoration: none; color: #0000FF">1-</a>  </font><font color=#FF00FF><a href = "root.html#1.2160" style="text-decoration: none; color: #FF00FF">0<</a>  </font><font color=#00AAAA><a href = "root.html#1.2930" style="text-decoration: none; color: #00AAAA">if</a>  &nbsp;</font><font color=#0000FF><a href = "forth.html#2.0340" style="text-decoration: none; color: #0000FF">2drop</a>  </font><font color=#00AAAA><a href = "root.html#1.1230" style="text-decoration: none; color: #00AAAA">exit</a>  &nbsp;<a href = "root.html#1.2950" style="text-decoration: none; color: #00AAAA">then</a>  <a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>do 0 times 
   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.2980" style="text-decoration: none; color: #00AAAA">for</a>  &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2700" style="text-decoration: none; color: #FF00FF">dup>r</a>  </font><font color=#0000FF><a href = "forth.html#2.0320" style="text-decoration: none; color: #0000FF">execute</a>  </font><font color=#FF00FF><a href = "root.html#1.2180" style="text-decoration: none; color: #FF00FF">r></a>  &nbsp;</font><font color=#00AAAA><a href = "root.html#1.2990" style="text-decoration: none; color: #00AAAA">next</a>         &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>do 1 or more times 
   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a> 
</font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 

</font><font color=#00AAAA><a href = "root.html#1.1250" style="text-decoration: none; color: #00AAAA">CODE</a>  </font><font color=#FF0000>cop_options                        &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0760 -- n 
   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a>  </font><font color=#AA0000>1  </font><font color=#CCCCCC><a href = "asm.html#1.9060" style="text-decoration: none; color: #CCCCCC">cop</a>                          &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>get hardware option bits 
   &nbsp;</font><font color=#CCCCCC><a href = "asm.html#1.6010" style="text-decoration: none; color: #CCCCCC">COP</a>  <a href = "asm.html#1.7010" style="text-decoration: none; color: #CCCCCC">T->N</a>  <a href = "asm.html#1.8030" style="text-decoration: none; color: #CCCCCC">d+1</a>  &nbsp;<a href = "asm.html#1.5020" style="text-decoration: none; color: #CCCCCC">RET</a>  <a href = "asm.html#1.9010" style="text-decoration: none; color: #CCCCCC">alu</a> 
</font><font color=#00AAAA><a href = "asm.html#1.5010" style="text-decoration: none; color: #00AAAA">;CODE</a> 

</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>Math iterations are subroutines to minimize the latency of lazy interrupts. 
</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>These interrupts modify the RET operation to service ISRs. 
</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>RET ends the scope of carry and W so that ISRs may trash them. 
</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>Latency is the maximum time between returns. 

</font><font color=#0000FF><a href = "forth.html#2.0760" style="text-decoration: none; color: #0000FF">cop_options</a>  </font><font color=#AA0000>1  </font><font color=#FF00FF><a href = "root.html#1.2070" style="text-decoration: none; color: #FF00FF">and</a>  </font><font color=#00AAAA><a href = "root.html#1.0260" style="text-decoration: none; color: #00AAAA">[if]</a>                  &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>hardware multiply? 
</font><font color=#00AAAA><a href = "root.html#1.1250" style="text-decoration: none; color: #00AAAA">CODE</a>  </font><font color=#FF0000>um*                                &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0410 u1 u2 -- ud 
   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a>  </font><font color=#AA0000>8  </font><font color=#CCCCCC><a href = "asm.html#1.9060" style="text-decoration: none; color: #CCCCCC">cop</a>                          &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>trigger multiply 
   &nbsp;</font><font color=#CCCCCC><a href = "asm.html#1.6080" style="text-decoration: none; color: #CCCCCC">N</a>  <a href = "asm.html#1.8040" style="text-decoration: none; color: #CCCCCC">d-1</a>  <a href = "asm.html#1.9010" style="text-decoration: none; color: #CCCCCC">alu</a>   &nbsp;<a href = "asm.html#1.6080" style="text-decoration: none; color: #CCCCCC">N</a>  <a href = "asm.html#1.8040" style="text-decoration: none; color: #CCCCCC">d-1</a>  <a href = "asm.html#1.9010" style="text-decoration: none; color: #CCCCCC">alu</a>               &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2drop 
   &nbsp;</font><font color=#00AAAA><a href = "asm.html#1.5100" style="text-decoration: none; color: #00AAAA">begin</a> 
       &nbsp;</font><font color=#CCCCCC><a href = "asm.html#1.9060" style="text-decoration: none; color: #CCCCCC">cop</a>  &nbsp;<a href = "asm.html#1.6010" style="text-decoration: none; color: #CCCCCC">COP</a>  <a href = "asm.html#1.7010" style="text-decoration: none; color: #CCCCCC">T->N</a>  <a href = "asm.html#1.8030" style="text-decoration: none; color: #CCCCCC">d+1</a>  <a href = "asm.html#1.9010" style="text-decoration: none; color: #CCCCCC">alu</a>           &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>get busy flag 
   &nbsp;</font><font color=#00AAAA><a href = "asm.html#1.5160" style="text-decoration: none; color: #00AAAA">while</a> 
       &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a>  </font><font color=#00AAAA><a href = "root.html#1.1190" style="text-decoration: none; color: #00AAAA">'</a>  </font><font color=#0000FF><a href = "forth.html#2.0100" style="text-decoration: none; color: #0000FF">noop</a>  </font><font color=#CCCCCC><a href = "asm.html#1.9040" style="text-decoration: none; color: #CCCCCC">scall</a>               &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>spin while it's busy 
   &nbsp;</font><font color=#00AAAA><a href = "asm.html#1.5170" style="text-decoration: none; color: #00AAAA">repeat</a> 
   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a>  </font><font color=#AA0000>3  </font><font color=#CCCCCC><a href = "asm.html#1.9060" style="text-decoration: none; color: #CCCCCC">cop</a> 
   &nbsp;</font><font color=#CCCCCC><a href = "asm.html#1.6010" style="text-decoration: none; color: #CCCCCC">COP</a>  <a href = "asm.html#1.7010" style="text-decoration: none; color: #CCCCCC">T->N</a>  <a href = "asm.html#1.8030" style="text-decoration: none; color: #CCCCCC">d+1</a>  <a href = "asm.html#1.9010" style="text-decoration: none; color: #CCCCCC">alu</a> 
   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a>  </font><font color=#AA0000>2  </font><font color=#CCCCCC><a href = "asm.html#1.9060" style="text-decoration: none; color: #CCCCCC">cop</a> 
   &nbsp;</font><font color=#CCCCCC><a href = "asm.html#1.6010" style="text-decoration: none; color: #CCCCCC">COP</a>  <a href = "asm.html#1.7010" style="text-decoration: none; color: #CCCCCC">T->N</a>  <a href = "asm.html#1.8030" style="text-decoration: none; color: #CCCCCC">d+1</a>  <a href = "asm.html#1.5020" style="text-decoration: none; color: #CCCCCC">RET</a>  <a href = "asm.html#1.9010" style="text-decoration: none; color: #CCCCCC">alu</a> 
</font><font color=#00AAAA><a href = "asm.html#1.5010" style="text-decoration: none; color: #00AAAA">;CODE</a> 
</font><font color=#00AAAA><a href = "root.html#1.0280" style="text-decoration: none; color: #00AAAA">[else]</a> 

\  Multiplication  using  shift-and-add,  160  to  256  cycles  at  16-bit. 
\  Latency  =  17 
:  (um*) 
   &nbsp;2*  >r  2*c  carry 
   &nbsp;if  &nbsp;over  r>  +c  >r  carry  + 
   &nbsp;then  &nbsp;r> 
; 
:  um*                                   &nbsp;\  2.0410  u1  u2  --  ud 
   &nbsp;0  [  cellbits  2/  ]  literal           &nbsp;\  cell  is  an  even  number  of  bits 
   &nbsp;for  (um*)  (um*)  next 
   &nbsp;>r  nip  r>  swap 
; 
[then] 

</font><font color=#0000FF><a href = "forth.html#2.0760" style="text-decoration: none; color: #0000FF">cop_options</a>  </font><font color=#AA0000>2  </font><font color=#FF00FF><a href = "root.html#1.2070" style="text-decoration: none; color: #FF00FF">and</a>  </font><font color=#00AAAA><a href = "root.html#1.0260" style="text-decoration: none; color: #00AAAA">[if]</a>                  &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>hardware divide? 
</font><font color=#00AAAA><a href = "root.html#1.1250" style="text-decoration: none; color: #00AAAA">CODE</a>  </font><font color=#FF0000>um/mod                             &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0420 ud u -- ur uq 
   &nbsp;</font><font color=#CCCCCC><a href = "asm.html#1.6080" style="text-decoration: none; color: #CCCCCC">N</a>  <a href = "asm.html#1.7070" style="text-decoration: none; color: #CCCCCC">CO</a>  <a href = "asm.html#1.8040" style="text-decoration: none; color: #CCCCCC">d-1</a>  <a href = "asm.html#1.9010" style="text-decoration: none; color: #CCCCCC">alu</a>                        &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>divisor to W 
   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a>  </font><font color=#AA0000>9  </font><font color=#CCCCCC><a href = "asm.html#1.9060" style="text-decoration: none; color: #CCCCCC">cop</a>                          &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>trigger divide 
   &nbsp;</font><font color=#CCCCCC><a href = "asm.html#1.6080" style="text-decoration: none; color: #CCCCCC">N</a>  <a href = "asm.html#1.8040" style="text-decoration: none; color: #CCCCCC">d-1</a>  <a href = "asm.html#1.9010" style="text-decoration: none; color: #CCCCCC">alu</a>   &nbsp;<a href = "asm.html#1.6080" style="text-decoration: none; color: #CCCCCC">N</a>  <a href = "asm.html#1.8040" style="text-decoration: none; color: #CCCCCC">d-1</a>  <a href = "asm.html#1.9010" style="text-decoration: none; color: #CCCCCC">alu</a>               &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2drop 
   &nbsp;</font><font color=#00AAAA><a href = "asm.html#1.5100" style="text-decoration: none; color: #00AAAA">begin</a> 
       &nbsp;</font><font color=#CCCCCC><a href = "asm.html#1.9060" style="text-decoration: none; color: #CCCCCC">cop</a>  &nbsp;<a href = "asm.html#1.6010" style="text-decoration: none; color: #CCCCCC">COP</a>  <a href = "asm.html#1.7010" style="text-decoration: none; color: #CCCCCC">T->N</a>  <a href = "asm.html#1.8030" style="text-decoration: none; color: #CCCCCC">d+1</a>  <a href = "asm.html#1.9010" style="text-decoration: none; color: #CCCCCC">alu</a>           &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>get busy flag 
   &nbsp;</font><font color=#00AAAA><a href = "asm.html#1.5160" style="text-decoration: none; color: #00AAAA">while</a> 
       &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a>  </font><font color=#00AAAA><a href = "root.html#1.1190" style="text-decoration: none; color: #00AAAA">'</a>  </font><font color=#0000FF><a href = "forth.html#2.0100" style="text-decoration: none; color: #0000FF">noop</a>  </font><font color=#CCCCCC><a href = "asm.html#1.9040" style="text-decoration: none; color: #CCCCCC">scall</a>               &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>spin while it's busy 
   &nbsp;</font><font color=#00AAAA><a href = "asm.html#1.5170" style="text-decoration: none; color: #00AAAA">repeat</a> 
   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a>  </font><font color=#AA0000>5  </font><font color=#CCCCCC><a href = "asm.html#1.9060" style="text-decoration: none; color: #CCCCCC">cop</a> 
   &nbsp;</font><font color=#CCCCCC><a href = "asm.html#1.6010" style="text-decoration: none; color: #CCCCCC">COP</a>  <a href = "asm.html#1.7010" style="text-decoration: none; color: #CCCCCC">T->N</a>  <a href = "asm.html#1.8030" style="text-decoration: none; color: #CCCCCC">d+1</a>  <a href = "asm.html#1.9010" style="text-decoration: none; color: #CCCCCC">alu</a> 
   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a>  </font><font color=#AA0000>4  </font><font color=#CCCCCC><a href = "asm.html#1.9060" style="text-decoration: none; color: #CCCCCC">cop</a> 
   &nbsp;</font><font color=#CCCCCC><a href = "asm.html#1.6010" style="text-decoration: none; color: #CCCCCC">COP</a>  <a href = "asm.html#1.7010" style="text-decoration: none; color: #CCCCCC">T->N</a>  <a href = "asm.html#1.8030" style="text-decoration: none; color: #CCCCCC">d+1</a>  <a href = "asm.html#1.5020" style="text-decoration: none; color: #CCCCCC">RET</a>  <a href = "asm.html#1.9010" style="text-decoration: none; color: #CCCCCC">alu</a> 
</font><font color=#00AAAA><a href = "asm.html#1.5010" style="text-decoration: none; color: #00AAAA">;CODE</a> 
</font><font color=#00AAAA><a href = "root.html#1.0280" style="text-decoration: none; color: #00AAAA">[else]</a> 

\  Long  division  takes  about  340  cycles  at  16-bit. 
\  Latency  =  25 
:  (um/mod) 
   &nbsp;>r  &nbsp;swap  2*c  swap  2*c               &nbsp;\  2dividend  |  divisor 
   &nbsp;carry  if 
       &nbsp;r@  -   &nbsp;0  >carry 
   &nbsp;else 
       &nbsp;dup  r@  &nbsp;-c  drop                 &nbsp;\  test  subtraction 
       &nbsp;carry  0=  if  &nbsp;r@  -c  &nbsp;then        &nbsp;\  keep  it 
   &nbsp;then 
   &nbsp;r>  &nbsp;carry                           &nbsp;\  carry  is  safe  on  the  stack 
; 
:  um/mod                                &nbsp;\  2.0420  ud  u  --  ur  uq 
   &nbsp;over  over-  drop  carry 
   &nbsp;if  &nbsp;drop  drop  dup  xor 
       &nbsp;dup  invert  &nbsp;exit                &nbsp;\  overflow  =  0  -1 
   &nbsp;then 
   &nbsp;[  cellbits  2/  ]  literal 
   &nbsp;for  (um/mod)  >carry 
       &nbsp;(um/mod)  >carry 
   &nbsp;next 
   &nbsp;drop  swap  2*c  invert                &nbsp;\  finish  quotient 
; 
[then] 

</font><font color=#0000FF><a href = "forth.html#2.0760" style="text-decoration: none; color: #0000FF">cop_options</a>  </font><font color=#AA0000>4  </font><font color=#FF00FF><a href = "root.html#1.2070" style="text-decoration: none; color: #FF00FF">and</a>  </font><font color=#00AAAA><a href = "root.html#1.0260" style="text-decoration: none; color: #00AAAA">[if]</a>                  &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>hardware shifter? 
</font><font color=#00AAAA><a href = "root.html#1.1250" style="text-decoration: none; color: #00AAAA">CODE</a>  </font><font color=#FF0000>)dshift                            &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>d1 -- d2 
   &nbsp;</font><font color=#CCCCCC><a href = "asm.html#1.6080" style="text-decoration: none; color: #CCCCCC">N</a>  <a href = "asm.html#1.8040" style="text-decoration: none; color: #CCCCCC">d-1</a>  <a href = "asm.html#1.9010" style="text-decoration: none; color: #CCCCCC">alu</a>   &nbsp;<a href = "asm.html#1.6080" style="text-decoration: none; color: #CCCCCC">N</a>  <a href = "asm.html#1.8040" style="text-decoration: none; color: #CCCCCC">d-1</a>  <a href = "asm.html#1.9010" style="text-decoration: none; color: #CCCCCC">alu</a>               &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2drop 
   &nbsp;</font><font color=#00AAAA><a href = "asm.html#1.5100" style="text-decoration: none; color: #00AAAA">begin</a> 
       &nbsp;</font><font color=#CCCCCC><a href = "asm.html#1.9060" style="text-decoration: none; color: #CCCCCC">cop</a>  &nbsp;<a href = "asm.html#1.6010" style="text-decoration: none; color: #CCCCCC">COP</a>  <a href = "asm.html#1.7010" style="text-decoration: none; color: #CCCCCC">T->N</a>  <a href = "asm.html#1.8030" style="text-decoration: none; color: #CCCCCC">d+1</a>  <a href = "asm.html#1.9010" style="text-decoration: none; color: #CCCCCC">alu</a>           &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>get busy flag 
   &nbsp;</font><font color=#00AAAA><a href = "asm.html#1.5160" style="text-decoration: none; color: #00AAAA">while</a> 
       &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a>  </font><font color=#00AAAA><a href = "root.html#1.1190" style="text-decoration: none; color: #00AAAA">'</a>  </font><font color=#0000FF><a href = "forth.html#2.0100" style="text-decoration: none; color: #0000FF">noop</a>  </font><font color=#CCCCCC><a href = "asm.html#1.9040" style="text-decoration: none; color: #CCCCCC">scall</a>               &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>spin while it's busy 
   &nbsp;</font><font color=#00AAAA><a href = "asm.html#1.5170" style="text-decoration: none; color: #00AAAA">repeat</a> 
   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a>  </font><font color=#AA0000>7  </font><font color=#CCCCCC><a href = "asm.html#1.9060" style="text-decoration: none; color: #CCCCCC">cop</a> 
   &nbsp;</font><font color=#CCCCCC><a href = "asm.html#1.6010" style="text-decoration: none; color: #CCCCCC">COP</a>  <a href = "asm.html#1.7010" style="text-decoration: none; color: #CCCCCC">T->N</a>  <a href = "asm.html#1.8030" style="text-decoration: none; color: #CCCCCC">d+1</a>  <a href = "asm.html#1.9010" style="text-decoration: none; color: #CCCCCC">alu</a>                    &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>get result 
   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a>  </font><font color=#AA0000>6  </font><font color=#CCCCCC><a href = "asm.html#1.9060" style="text-decoration: none; color: #CCCCCC">cop</a> 
   &nbsp;</font><font color=#CCCCCC><a href = "asm.html#1.6010" style="text-decoration: none; color: #CCCCCC">COP</a>  <a href = "asm.html#1.7010" style="text-decoration: none; color: #CCCCCC">T->N</a>  <a href = "asm.html#1.8030" style="text-decoration: none; color: #CCCCCC">d+1</a>  <a href = "asm.html#1.5020" style="text-decoration: none; color: #CCCCCC">RET</a>  <a href = "asm.html#1.9010" style="text-decoration: none; color: #CCCCCC">alu</a> 
</font><font color=#00AAAA><a href = "asm.html#1.5010" style="text-decoration: none; color: #00AAAA">;CODE</a> 

</font><font color=#00AAAA><a href = "root.html#1.1250" style="text-decoration: none; color: #00AAAA">CODE</a>  </font><font color=#FF0000>drshift                            &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>d1 u -- d2 
   &nbsp;</font><font color=#CCCCCC><a href = "asm.html#1.6080" style="text-decoration: none; color: #CCCCCC">N</a>  <a href = "asm.html#1.7070" style="text-decoration: none; color: #CCCCCC">CO</a>  <a href = "asm.html#1.8040" style="text-decoration: none; color: #CCCCCC">d-1</a>  <a href = "asm.html#1.9010" style="text-decoration: none; color: #CCCCCC">alu</a>                        &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>count to W 
   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a>  </font><font color=#AA0000>10  </font><font color=#CCCCCC><a href = "asm.html#1.9060" style="text-decoration: none; color: #CCCCCC">cop</a>                         &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>trigger right shift 
   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a>  </font><font color=#00AAAA><a href = "root.html#1.1190" style="text-decoration: none; color: #00AAAA">'</a>  </font><font color=#0000FF><a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">)dshift</a>  </font><font color=#CCCCCC><a href = "asm.html#1.9020" style="text-decoration: none; color: #CCCCCC">branch</a>               &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>finish up 
</font><font color=#00AAAA><a href = "asm.html#1.5010" style="text-decoration: none; color: #00AAAA">;CODE</a> 

</font><font color=#00AAAA><a href = "root.html#1.1250" style="text-decoration: none; color: #00AAAA">CODE</a>  </font><font color=#FF0000>darshift                           &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>d1 u -- d2 
   &nbsp;</font><font color=#CCCCCC><a href = "asm.html#1.6080" style="text-decoration: none; color: #CCCCCC">N</a>  <a href = "asm.html#1.7070" style="text-decoration: none; color: #CCCCCC">CO</a>  <a href = "asm.html#1.8040" style="text-decoration: none; color: #CCCCCC">d-1</a>  <a href = "asm.html#1.9010" style="text-decoration: none; color: #CCCCCC">alu</a>                        &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>count to W 
   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a>  </font><font color=#AA0000>10  128  </font><font color=#FF00FF><a href = "root.html#1.2080" style="text-decoration: none; color: #FF00FF">+</a>  </font><font color=#CCCCCC><a href = "asm.html#1.9060" style="text-decoration: none; color: #CCCCCC">cop</a>                   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>trigger arithmetic right shift 
   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a>  </font><font color=#00AAAA><a href = "root.html#1.1190" style="text-decoration: none; color: #00AAAA">'</a>  </font><font color=#0000FF><a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">)dshift</a>  </font><font color=#CCCCCC><a href = "asm.html#1.9020" style="text-decoration: none; color: #CCCCCC">branch</a>               &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>finish up 
</font><font color=#00AAAA><a href = "asm.html#1.5010" style="text-decoration: none; color: #00AAAA">;CODE</a> 

</font><font color=#00AAAA><a href = "root.html#1.1250" style="text-decoration: none; color: #00AAAA">CODE</a>  </font><font color=#FF0000>dlshift                            &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>d1 u -- d2 
   &nbsp;</font><font color=#CCCCCC><a href = "asm.html#1.6080" style="text-decoration: none; color: #CCCCCC">N</a>  <a href = "asm.html#1.7070" style="text-decoration: none; color: #CCCCCC">CO</a>  <a href = "asm.html#1.8040" style="text-decoration: none; color: #CCCCCC">d-1</a>  <a href = "asm.html#1.9010" style="text-decoration: none; color: #CCCCCC">alu</a>                        &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>count to W 
   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a>  </font><font color=#AA0000>10  64  </font><font color=#FF00FF><a href = "root.html#1.2080" style="text-decoration: none; color: #FF00FF">+</a>  </font><font color=#CCCCCC><a href = "asm.html#1.9060" style="text-decoration: none; color: #CCCCCC">cop</a>                    &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>trigger left shift 
   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a>  </font><font color=#00AAAA><a href = "root.html#1.1190" style="text-decoration: none; color: #00AAAA">'</a>  </font><font color=#0000FF><a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">)dshift</a>  </font><font color=#CCCCCC><a href = "asm.html#1.9020" style="text-decoration: none; color: #CCCCCC">branch</a>               &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>finish up 
</font><font color=#00AAAA><a href = "asm.html#1.5010" style="text-decoration: none; color: #00AAAA">;CODE</a> 

</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>lshift  &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2110" style="text-decoration: none; color: #FF00FF">over</a>  <a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a>  </font><font color=#0000FF><a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">dlshift</a>  </font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>  <a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.1110 x1 u -- x2 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>rshift  &nbsp;</font><font color=#AA0000>0  </font><font color=#FF00FF><a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a>  </font><font color=#0000FF><a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">drshift</a>  </font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>  &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.1120 x1 u -- x2 

</font><font color=#00AAAA><a href = "root.html#1.0280" style="text-decoration: none; color: #00AAAA">[else]</a> 
:  lshift      &nbsp;\  2.1110  x1  u  --  x2 
   &nbsp;dup  if  &nbsp;for  &nbsp;2*  &nbsp;next  &nbsp;exit 
   &nbsp;then  drop 
; 

:  rshift      &nbsp;\  2.1120  x1  u  --  x2 
   &nbsp;dup  if  &nbsp;for  &nbsp;0  >carry  2/c  &nbsp;next  &nbsp;exit 
   &nbsp;then  drop 
; 
[then] 

</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>*     &nbsp;</font><font color=#0000FF><a href = "forth.html#2.0410" style="text-decoration: none; color: #0000FF">um*</a>  </font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>                      &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0430 n1 n2 -- n3 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>dnegate                               &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0440 d -- -d 
       &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2010" style="text-decoration: none; color: #FF00FF">invert</a>  <a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a>  <a href = "root.html#1.2010" style="text-decoration: none; color: #FF00FF">invert</a>  </font><font color=#AA0000>1  </font><font color=#FF00FF><a href = "root.html#1.2530" style="text-decoration: none; color: #FF00FF">+c</a>  <a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a>  <a href = "root.html#1.2500" style="text-decoration: none; color: #FF00FF">carry</a>  <a href = "root.html#1.2080" style="text-decoration: none; color: #FF00FF">+</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>abs   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2100" style="text-decoration: none; color: #FF00FF">dup</a>  <a href = "root.html#1.2160" style="text-decoration: none; color: #FF00FF">0<</a>  </font><font color=#00AAAA><a href = "root.html#1.2930" style="text-decoration: none; color: #00AAAA">if</a>  </font><font color=#0000FF><a href = "forth.html#2.0380" style="text-decoration: none; color: #0000FF">negate</a>  </font><font color=#00AAAA><a href = "root.html#1.2950" style="text-decoration: none; color: #00AAAA">then</a>  <a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>         &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0450 n -- u 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>dabs  &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2100" style="text-decoration: none; color: #FF00FF">dup</a>  <a href = "root.html#1.2160" style="text-decoration: none; color: #FF00FF">0<</a>  </font><font color=#00AAAA><a href = "root.html#1.2930" style="text-decoration: none; color: #00AAAA">if</a>  </font><font color=#0000FF><a href = "forth.html#2.0440" style="text-decoration: none; color: #0000FF">dnegate</a>  </font><font color=#00AAAA><a href = "root.html#1.2950" style="text-decoration: none; color: #00AAAA">then</a>  <a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>        &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0460 d -- ud 

</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>m/mod 
   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2100" style="text-decoration: none; color: #FF00FF">dup</a>  <a href = "root.html#1.2160" style="text-decoration: none; color: #FF00FF">0<</a>  <a href = "root.html#1.2100" style="text-decoration: none; color: #FF00FF">dup</a>  <a href = "root.html#1.2170" style="text-decoration: none; color: #FF00FF">>r</a> 
   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.2930" style="text-decoration: none; color: #00AAAA">if</a>  </font><font color=#0000FF><a href = "forth.html#2.0380" style="text-decoration: none; color: #0000FF">negate</a>  &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2170" style="text-decoration: none; color: #FF00FF">>r</a> 
      &nbsp;</font><font color=#0000FF><a href = "forth.html#2.0440" style="text-decoration: none; color: #0000FF">dnegate</a>  </font><font color=#FF00FF><a href = "root.html#1.2180" style="text-decoration: none; color: #FF00FF">r></a> 
   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.2950" style="text-decoration: none; color: #00AAAA">then</a>  </font><font color=#FF00FF><a href = "root.html#1.2170" style="text-decoration: none; color: #FF00FF">>r</a>  <a href = "root.html#1.2100" style="text-decoration: none; color: #FF00FF">dup</a>  <a href = "root.html#1.2160" style="text-decoration: none; color: #FF00FF">0<</a> 
   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.2930" style="text-decoration: none; color: #00AAAA">if</a>  </font><font color=#FF00FF><a href = "root.html#1.2190" style="text-decoration: none; color: #FF00FF">r@</a>  <a href = "root.html#1.2080" style="text-decoration: none; color: #FF00FF">+</a> 
   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.2950" style="text-decoration: none; color: #00AAAA">then</a>  </font><font color=#FF00FF><a href = "root.html#1.2180" style="text-decoration: none; color: #FF00FF">r></a>  </font><font color=#0000FF><a href = "forth.html#2.0420" style="text-decoration: none; color: #0000FF">um/mod</a> 
   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2180" style="text-decoration: none; color: #FF00FF">r></a>  </font><font color=#00AAAA><a href = "root.html#1.2930" style="text-decoration: none; color: #00AAAA">if</a> 
      &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a>  </font><font color=#0000FF><a href = "forth.html#2.0380" style="text-decoration: none; color: #0000FF">negate</a>  </font><font color=#FF00FF><a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a> 
   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.2950" style="text-decoration: none; color: #00AAAA">then</a> 
</font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>/mod   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2110" style="text-decoration: none; color: #FF00FF">over</a>  <a href = "root.html#1.2160" style="text-decoration: none; color: #FF00FF">0<</a>  <a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a>  </font><font color=#0000FF><a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">m/mod</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>           &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0470 n1 n2 -- rem quot 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>mod    &nbsp;</font><font color=#0000FF><a href = "forth.html#2.0470" style="text-decoration: none; color: #0000FF">/mod</a>  </font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>                    &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0480 n1 n2 -- rem 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>/      &nbsp;</font><font color=#0000FF><a href = "forth.html#2.0470" style="text-decoration: none; color: #0000FF">/mod</a>  </font><font color=#FF00FF><a href = "root.html#1.2140" style="text-decoration: none; color: #FF00FF">nip</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>                     &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0490 n1 n2 -- quot 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>m*                                    &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0500 n1 n2 -- d 
   &nbsp;</font><font color=#0000FF><a href = "forth.html#2.0330" style="text-decoration: none; color: #0000FF">2dup</a>  </font><font color=#FF00FF><a href = "root.html#1.2060" style="text-decoration: none; color: #FF00FF">xor</a>  <a href = "root.html#1.2160" style="text-decoration: none; color: #FF00FF">0<</a>  <a href = "root.html#1.2170" style="text-decoration: none; color: #FF00FF">>r</a> 
   &nbsp;</font><font color=#0000FF><a href = "forth.html#2.0450" style="text-decoration: none; color: #0000FF">abs</a>  </font><font color=#FF00FF><a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a>  </font><font color=#0000FF><a href = "forth.html#2.0450" style="text-decoration: none; color: #0000FF">abs</a>  <a href = "forth.html#2.0410" style="text-decoration: none; color: #0000FF">um*</a> 
   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2180" style="text-decoration: none; color: #FF00FF">r></a>  </font><font color=#00AAAA><a href = "root.html#1.2930" style="text-decoration: none; color: #00AAAA">if</a>  </font><font color=#0000FF><a href = "forth.html#2.0440" style="text-decoration: none; color: #0000FF">dnegate</a>  </font><font color=#00AAAA><a href = "root.html#1.2950" style="text-decoration: none; color: #00AAAA">then</a> 
</font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>*/mod  &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2170" style="text-decoration: none; color: #FF00FF">>r</a>  </font><font color=#0000FF><a href = "forth.html#2.0500" style="text-decoration: none; color: #0000FF">m*</a>  </font><font color=#FF00FF><a href = "root.html#1.2180" style="text-decoration: none; color: #FF00FF">r></a>  </font><font color=#0000FF><a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">m/mod</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>               &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0510 n1 n2 n3 -- rem quot 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>*/     &nbsp;</font><font color=#0000FF><a href = "forth.html#2.0510" style="text-decoration: none; color: #0000FF">*/mod</a>  </font><font color=#FF00FF><a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a>  <a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>              &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0520 n1 n2 n3 -- n4 

</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>In order to use CREATE DOES>, we need ',' defined here. 

</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>aligned  &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1170" style="text-decoration: none; color: #00AAAA">[</a>  </font><font color=#AA00AA><a href = "root.html#1.0060" style="text-decoration: none; color: #AA00AA">cell</a>  </font><font color=#0000FF><a href = "forth.html#2.0370" style="text-decoration: none; color: #0000FF">1-</a>  </font><font color=#00AAAA><a href = "root.html#1.1180" style="text-decoration: none; color: #00AAAA">]</a>  <a href = "root.html#1.1260" style="text-decoration: none; color: #00AAAA">literal</a>  </font><font color=#FF00FF><a href = "root.html#1.2080" style="text-decoration: none; color: #FF00FF">+</a>        &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>1.1050 addr1 -- addr2 
          &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1170" style="text-decoration: none; color: #00AAAA">[</a>  </font><font color=#AA00AA><a href = "root.html#1.0060" style="text-decoration: none; color: #AA00AA">cell</a>  </font><font color=#0000FF><a href = "forth.html#2.0380" style="text-decoration: none; color: #0000FF">negate</a>  </font><font color=#00AAAA><a href = "root.html#1.1180" style="text-decoration: none; color: #00AAAA">]</a>  <a href = "root.html#1.1260" style="text-decoration: none; color: #00AAAA">literal</a>  </font><font color=#FF00FF><a href = "root.html#1.2070" style="text-decoration: none; color: #FF00FF">and</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>align    &nbsp;</font><font color=#AA00AA><a href = "root.html#1.0073" style="text-decoration: none; color: #AA00AA">dp</a>  </font><font color=#0000FF><a href = "forth.html#2.0210" style="text-decoration: none; color: #0000FF">@</a>  <a href = "forth.html#1.1050" style="text-decoration: none; color: #0000FF">aligned</a>  </font><font color=#AA00AA><a href = "root.html#1.0073" style="text-decoration: none; color: #AA00AA">dp</a>  </font><font color=#0000FF><a href = "forth.html#2.0200" style="text-decoration: none; color: #0000FF">!</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>          &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>1.1060 -- 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>allot    &nbsp;</font><font color=#AA00AA><a href = "root.html#1.0073" style="text-decoration: none; color: #AA00AA">dp</a>  </font><font color=#0000FF><a href = "forth.html#2.0400" style="text-decoration: none; color: #0000FF">+!</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>                      &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0550 n -- 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>here     &nbsp;</font><font color=#AA00AA><a href = "root.html#1.0073" style="text-decoration: none; color: #AA00AA">dp</a>  </font><font color=#0000FF><a href = "forth.html#2.0210" style="text-decoration: none; color: #0000FF">@</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>                       &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0560 -- addr 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>,        &nbsp;</font><font color=#0000FF><a href = "forth.html#1.1060" style="text-decoration: none; color: #0000FF">align</a>  <a href = "forth.html#2.0560" style="text-decoration: none; color: #0000FF">here</a>  <a href = "forth.html#2.0200" style="text-decoration: none; color: #0000FF">!</a>  &nbsp;</font><font color=#AA00AA><a href = "root.html#1.0060" style="text-decoration: none; color: #AA00AA">cell</a>  </font><font color=#0000FF><a href = "forth.html#2.0550" style="text-decoration: none; color: #0000FF">allot</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>   &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0570 x -- 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>c,       &nbsp;</font><font color=#0000FF><a href = "forth.html#2.0560" style="text-decoration: none; color: #0000FF">here</a>  <a href = "forth.html#2.0180" style="text-decoration: none; color: #0000FF">c!</a>  &nbsp;</font><font color=#AA0000>1  </font><font color=#0000FF><a href = "forth.html#2.0550" style="text-decoration: none; color: #0000FF">allot</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>           &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0580 c -- 

</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>Paul Bennett's recommended minimum word set is mostly present. 
</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>DO, I, J, and LOOP are not included. Use for next r@ instead. 
</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>CATCH is not included. THROW jumps directly to QUIT. 
</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>DOES> needs a compilable CREATE. 

</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>u<     &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2531" style="text-decoration: none; color: #FF00FF">-c</a>  <a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a>  <a href = "root.html#1.2500" style="text-decoration: none; color: #FF00FF">carry</a>  <a href = "root.html#1.2150" style="text-decoration: none; color: #FF00FF">0=</a>  <a href = "root.html#1.2150" style="text-decoration: none; color: #FF00FF">0=</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>          &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0700 u1 u2 -- flag 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>min    &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2630" style="text-decoration: none; color: #FF00FF">2dup-</a>  <a href = "root.html#1.2160" style="text-decoration: none; color: #FF00FF">0<</a>  </font><font color=#00AAAA><a href = "root.html#1.2930" style="text-decoration: none; color: #00AAAA">if</a>                    &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0710 n1 n2 -- n3 
        &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a>  </font><font color=#00AAAA><a href = "root.html#1.1230" style="text-decoration: none; color: #00AAAA">exit</a>  <a href = "root.html#1.2950" style="text-decoration: none; color: #00AAAA">then</a>  &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a>  <a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>max    &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2630" style="text-decoration: none; color: #FF00FF">2dup-</a>  <a href = "root.html#1.2160" style="text-decoration: none; color: #FF00FF">0<</a>  </font><font color=#00AAAA><a href = "root.html#1.2930" style="text-decoration: none; color: #00AAAA">if</a>                    &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0720 n1 n2 -- n3 
        &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a>  <a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a>  </font><font color=#00AAAA><a href = "root.html#1.1230" style="text-decoration: none; color: #00AAAA">exit</a>  <a href = "root.html#1.2950" style="text-decoration: none; color: #00AAAA">then</a>  &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 

</font><font color=#00AAAA><a href = "root.html#1.1250" style="text-decoration: none; color: #00AAAA">CODE</a>  </font><font color=#FF0000>depth                              &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0730 -- +n 
   &nbsp;</font><font color=#CCCCCC><a href = "asm.html#1.6260" style="text-decoration: none; color: #CCCCCC">status</a>  <a href = "asm.html#1.7010" style="text-decoration: none; color: #CCCCCC">T->N</a>  <a href = "asm.html#1.8030" style="text-decoration: none; color: #CCCCCC">d+1</a>  <a href = "asm.html#1.9010" style="text-decoration: none; color: #CCCCCC">alu</a>   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a>  </font><font color=#AA0000>31  </font><font color=#CCCCCC><a href = "asm.html#1.9070" style="text-decoration: none; color: #CCCCCC">imm</a>   &nbsp;<a href = "asm.html#1.6120" style="text-decoration: none; color: #CCCCCC">T&N</a>  <a href = "asm.html#1.8040" style="text-decoration: none; color: #CCCCCC">d-1</a>  <a href = "asm.html#1.5020" style="text-decoration: none; color: #CCCCCC">RET</a>  <a href = "asm.html#1.9010" style="text-decoration: none; color: #CCCCCC">alu</a> 
</font><font color=#00AAAA><a href = "asm.html#1.5010" style="text-decoration: none; color: #00AAAA">;CODE</a> 

</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>exec2:  </font><font color=#FF00FF><a href = "root.html#1.2020" style="text-decoration: none; color: #FF00FF">2*</a>  </font><font color=#00AAAA><a href = "root.html#1.1170" style="text-decoration: none; color: #00AAAA">[</a>  <a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>             &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0740 n -- \ for list of 2-inst literals 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a>  </font><font color=#FF0000>exec1:  </font><font color=#FF00FF><a href = "root.html#1.2020" style="text-decoration: none; color: #FF00FF">2*</a>  <a href = "root.html#1.2180" style="text-decoration: none; color: #FF00FF">r></a>  <a href = "root.html#1.2080" style="text-decoration: none; color: #FF00FF">+</a>  <a href = "root.html#1.2170" style="text-decoration: none; color: #FF00FF">>r</a>  </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>       &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a>  </font><font color=#008800>2.0750 n -- \ for list of 1-inst literals 

</font><font color=#00AAAA><a href = "root.html#1.1290" style="text-decoration: none; color: #00AAAA">there</a>  <a href = "root.html#1.0400" style="text-decoration: none; color: #00AAAA">.</a>  <a href = "root.html#1.1030" style="text-decoration: none; color: #00AAAA">.(</a>  </font><font color=#008800>instructions used by core ) </font><font color=#00AAAA><a href = "root.html#1.1090" style="text-decoration: none; color: #00AAAA">cr</a> 
</pre>
</body>
</html>
