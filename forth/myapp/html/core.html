<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>core</title>
<link rel="stylesheet" href="doc.css">
</head>
<body>
<h1>core</h1>
<pre class="forth">
<font color=black>
<hr>

</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>Core definitions 

</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>You can compile to either check address alignment or not. 
</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>Set to 0 when everything looks stable. The difference is 25 instructions. 

</font><font color=#AA0000>0 </font><font color=#00AAAA><a href = "root.html#1.0140" style="text-decoration: none; color: #00AAAA">equ</a> </font><font color=#AA00AA>check_alignment                  &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0000 -- n 
</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>enable @, !, w@, and w! to check address alignment 

</font><font color=#AA0000>0 </font><font color=#00AAAA><a href = "root.html#1.1300" style="text-decoration: none; color: #00AAAA">torg</a> 
</font><font color=#00AAAA><a href = "root.html#1.1310" style="text-decoration: none; color: #00AAAA">later</a> </font><font color=#FF0000>cold                             &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0010 -- \ boots here 
</font><font color=#00AAAA><a href = "root.html#1.1310" style="text-decoration: none; color: #00AAAA">later</a> </font><font color=#FF0000>exception                        &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0020 n -- 

</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>noop  </font><font color=#FF00FF><a href = "root.html#1.2000" style="text-decoration: none; color: #FF00FF">nop</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>                          &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0100 -- 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>io@  &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2580" style="text-decoration: none; color: #FF00FF">_io@</a> <a href = "root.html#1.2000" style="text-decoration: none; color: #FF00FF">nop</a> <a href = "root.html#1.2590" style="text-decoration: none; color: #FF00FF">_io@_</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>               &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0110 addr -- n 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>io!  &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2570" style="text-decoration: none; color: #FF00FF">_io!</a> <a href = "root.html#1.2000" style="text-decoration: none; color: #FF00FF">nop</a> <a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>                &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0120 n addr -- 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>=    &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2060" style="text-decoration: none; color: #FF00FF">xor</a> <a href = "root.html#1.2150" style="text-decoration: none; color: #FF00FF">0=</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>                       &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0130 n1 n2 -- flag 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000><    &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2090" style="text-decoration: none; color: #FF00FF">-</a> <a href = "root.html#1.2160" style="text-decoration: none; color: #FF00FF">0<</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> <a href = "root.html#1.1330" style="text-decoration: none; color: #00AAAA">macro</a>                   &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0140 n1 n2 -- flag 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>>    &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a> </font><font color=#0000FF><a href = "forth.html#2.0140" style="text-decoration: none; color: #0000FF"><</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>                       &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0150 n1 n2 -- flag 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>cell+ </font><font color=#AA00AA><a href = "root.html#1.0060" style="text-decoration: none; color: #AA00AA">cell</a> </font><font color=#FF00FF><a href = "root.html#1.2080" style="text-decoration: none; color: #FF00FF">+</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> <a href = "root.html#1.1330" style="text-decoration: none; color: #00AAAA">macro</a>                 &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0160 a-addr1 -- a-addr2 

</font><font color=#AA00AA><a href = "root.html#1.0060" style="text-decoration: none; color: #AA00AA">cell</a> </font><font color=#AA0000>4 </font><font color=#0000FF><a href = "forth.html#2.0130" style="text-decoration: none; color: #0000FF">=</a> </font><font color=#00AAAA><a href = "root.html#1.0260" style="text-decoration: none; color: #00AAAA">[if]</a> 
   &nbsp;: cells 2* 2* ; macro              &nbsp;\ 2.0170 n1 -- n2 
   &nbsp;: (x!)  ( u w-addr bitmask wordmask ) 
       &nbsp;>carry swap 
       &nbsp;dup>r and 3 lshift dup>r lshift 
       &nbsp;w r> lshift invert 
       &nbsp;r@ _@ _@_ and  + r> _! drop 
   &nbsp;; 
   &nbsp;: c!  ( u c-addr -- ) 3 $FF  (x!) ; \ 2.0180 c addr -- 
 &nbsp;check_alignment [if] 
   &nbsp;: (ta)  ( a mask -- a ) 
         &nbsp;over and if  22 invert exception  then ; 
   &nbsp;: @  &nbsp;3 (ta)  _@ _@_ ;             &nbsp;\ 2.0210 a-addr -- x 
   &nbsp;: !  &nbsp;3 (ta)  _! drop ;            &nbsp;\ 2.0200 x a-addr -- 
   &nbsp;: w!  ( u w-addr -- )              &nbsp;\ 2.0190 w addr -- 
         &nbsp;1 (ta) 2 $FFFF (x!) ; 
   &nbsp;: w@  ( w-addr -- u )              &nbsp;\ 2.0220 addr -- w 
         &nbsp;1 (ta) _@ dup@ swap 2 and 3 lshift rshift $FFFF and ; 
 &nbsp;[else] 
   &nbsp;: @  &nbsp;_@ _@_ ; macro               &nbsp;\ 2.0210 a-addr -- x 
   &nbsp;: !  &nbsp;_! drop ; macro              &nbsp;\ 2.0200 x a-addr -- 
   &nbsp;: w!  2 $FFFF (x!) ;               &nbsp;\ 2.0190 w addr -- 
   &nbsp;: w@  _@ dup@ swap 2 and 3 lshift  &nbsp;\ 2.0220 addr -- w 
         &nbsp;rshift $FFFF and ; 
 &nbsp;[then] 
[else] </font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>16-bit or 18-bit cells 
   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>cells </font><font color=#FF00FF><a href = "root.html#1.2020" style="text-decoration: none; color: #FF00FF">2*</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> <a href = "root.html#1.1330" style="text-decoration: none; color: #00AAAA">macro</a>                 &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0170 n1 -- n2 
 &nbsp;</font><font color=#AA00AA><a href = "forth.html#2.0000" style="text-decoration: none; color: #AA00AA">check_alignment</a> </font><font color=#00AAAA><a href = "root.html#1.0260" style="text-decoration: none; color: #00AAAA">[if]</a> 
   &nbsp;: (ta)  over and if  22 invert exception  then ; 
   &nbsp;: @  &nbsp;1 (ta)  _@ _@_ ;             &nbsp;\ 2.0210 a-addr -- x 
   &nbsp;: !  &nbsp;1 (ta)  _! drop ;            &nbsp;\ 2.0200 x a-addr -- 
 &nbsp;[else] 
   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>@  &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2540" style="text-decoration: none; color: #FF00FF">_@</a> <a href = "root.html#1.2550" style="text-decoration: none; color: #FF00FF">_@_</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> <a href = "root.html#1.1330" style="text-decoration: none; color: #00AAAA">macro</a>               &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0210 a-addr -- x 
   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>!  &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2560" style="text-decoration: none; color: #FF00FF">_!</a> <a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> <a href = "root.html#1.1330" style="text-decoration: none; color: #00AAAA">macro</a>              &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0200 x a-addr -- 
 &nbsp;</font><font color=#00AAAA><a href = "root.html#1.0270" style="text-decoration: none; color: #00AAAA">[then]</a> 
   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>c! </font><font color=#00AAAA><a href = "root.html#1.1010" style="text-decoration: none; color: #00AAAA">(</a> </font><font color=#008800>u c-addr --  )              &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0180 c c-addr -- 
       &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2700" style="text-decoration: none; color: #FF00FF">dup>r</a> </font><font color=#AA0000>1 </font><font color=#FF00FF><a href = "root.html#1.2070" style="text-decoration: none; color: #FF00FF">and</a> </font><font color=#00AAAA><a href = "root.html#1.2930" style="text-decoration: none; color: #00AAAA">if</a> 
           &nbsp;</font><font color=#AA0000>8 </font><font color=#FF00FF><a href = "root.html#1.2210" style="text-decoration: none; color: #FF00FF">lshift</a>  </font><font color=#AA0000>$00FF 
       &nbsp;</font><font color=#00AAAA><a href = "root.html#1.2940" style="text-decoration: none; color: #00AAAA">else</a> 
           &nbsp;</font><font color=#AA0000>255 </font><font color=#FF00FF><a href = "root.html#1.2070" style="text-decoration: none; color: #FF00FF">and</a>  &nbsp;</font><font color=#AA0000>$FF00 
       &nbsp;</font><font color=#00AAAA><a href = "root.html#1.2950" style="text-decoration: none; color: #00AAAA">then</a> 
       &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2190" style="text-decoration: none; color: #FF00FF">r@</a> <a href = "root.html#1.2540" style="text-decoration: none; color: #FF00FF">_@</a> <a href = "root.html#1.2550" style="text-decoration: none; color: #FF00FF">_@_</a> <a href = "root.html#1.2070" style="text-decoration: none; color: #FF00FF">and</a>  <a href = "root.html#1.2080" style="text-decoration: none; color: #FF00FF">+</a> <a href = "root.html#1.2180" style="text-decoration: none; color: #FF00FF">r></a> <a href = "root.html#1.2560" style="text-decoration: none; color: #FF00FF">_!</a> <a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a> 
   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 
</font><font color=#00AAAA><a href = "root.html#1.0270" style="text-decoration: none; color: #00AAAA">[then]</a> 

</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>c@   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2540" style="text-decoration: none; color: #FF00FF">_@</a> <a href = "root.html#1.2730" style="text-decoration: none; color: #FF00FF">dup@</a> <a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a> <a href = "root.html#1.2640" style="text-decoration: none; color: #FF00FF">mask</a> <a href = "root.html#1.2200" style="text-decoration: none; color: #FF00FF">rshift</a> <a href = "root.html#1.2650" style="text-decoration: none; color: #FF00FF">wand</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> <a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0200 c-addr -- c 

</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>Your code can usually use + instead of OR, but if it's needed: 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>or   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2010" style="text-decoration: none; color: #FF00FF">invert</a> <a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a> <a href = "root.html#1.2010" style="text-decoration: none; color: #FF00FF">invert</a> <a href = "root.html#1.2070" style="text-decoration: none; color: #FF00FF">and</a> <a href = "root.html#1.2010" style="text-decoration: none; color: #FF00FF">invert</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> <a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0300 n m -- n|m 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>rot  &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2170" style="text-decoration: none; color: #FF00FF">>r</a> <a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a> <a href = "root.html#1.2180" style="text-decoration: none; color: #FF00FF">r></a> <a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>              &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0310 x1 x2 x3 -- x2 x3 x1 

</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>execute  </font><font color=#FF00FF><a href = "root.html#1.2020" style="text-decoration: none; color: #FF00FF">2*</a> <a href = "root.html#1.2170" style="text-decoration: none; color: #FF00FF">>r</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> <a href = "root.html#1.1350" style="text-decoration: none; color: #00AAAA">no-tail-recursion</a>   &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0320 i*x xt -- j*x 

</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>2dup  &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2110" style="text-decoration: none; color: #FF00FF">over</a> <a href = "root.html#1.2110" style="text-decoration: none; color: #FF00FF">over</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> <a href = "root.html#1.1330" style="text-decoration: none; color: #00AAAA">macro</a>             &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0330 d -- d d 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>2drop  </font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a> <a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>                   &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0340 d -- 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>char+ </font><font color=#00AAAA><a href = "root.html#1.1170" style="text-decoration: none; color: #00AAAA">[</a> <a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>                            &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0350 c-addr1 -- c-addr2 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>1+    &nbsp;</font><font color=#AA0000>1 </font><font color=#FF00FF><a href = "root.html#1.2080" style="text-decoration: none; color: #FF00FF">+</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> <a href = "root.html#1.1010" style="text-decoration: none; color: #00AAAA">(</a> </font><font color=#008800>macro  )              &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0360 n -- n+1 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>1-    &nbsp;</font><font color=#AA0000>1 </font><font color=#FF00FF><a href = "root.html#1.2090" style="text-decoration: none; color: #FF00FF">-</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> <a href = "root.html#1.1010" style="text-decoration: none; color: #00AAAA">(</a> </font><font color=#008800>macro  )              &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0370 n -- n-1 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>negate </font><font color=#FF00FF><a href = "root.html#1.2010" style="text-decoration: none; color: #FF00FF">invert</a> </font><font color=#0000FF><a href = "forth.html#2.0360" style="text-decoration: none; color: #0000FF">1+</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>                   &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0380 n -- -n 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>tuck  &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a> <a href = "root.html#1.2110" style="text-decoration: none; color: #FF00FF">over</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> <a href = "root.html#1.1330" style="text-decoration: none; color: #00AAAA">macro</a>             &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0390 n1 n2 -- n2 n1 n2 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>+!    &nbsp;</font><font color=#0000FF><a href = "forth.html#2.0390" style="text-decoration: none; color: #0000FF">tuck</a> <a href = "forth.html#2.0210" style="text-decoration: none; color: #0000FF">@</a> </font><font color=#FF00FF><a href = "root.html#1.2080" style="text-decoration: none; color: #FF00FF">+</a> <a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a> </font><font color=#0000FF><a href = "forth.html#2.0200" style="text-decoration: none; color: #0000FF">!</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>             &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0400 n a-addr -- 

</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>Math iterations are subroutines to minimize the latency of lazy interrupts. 
</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>These interrupts modify the RET operation to service ISRs. 
</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>RET ends the scope of carry and W so that ISRs may trash them. 
</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>Latency is the maximum time between returns. 

</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>Multiplication using shift-and-add, 160 to 256 cycles at 16-bit. 
</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>Latency = 17 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>(um*) 
   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2020" style="text-decoration: none; color: #FF00FF">2*</a> <a href = "root.html#1.2170" style="text-decoration: none; color: #FF00FF">>r</a> <a href = "root.html#1.2040" style="text-decoration: none; color: #FF00FF">2*c</a> <a href = "root.html#1.2500" style="text-decoration: none; color: #FF00FF">carry</a> 
   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.2930" style="text-decoration: none; color: #00AAAA">if</a>  </font><font color=#FF00FF><a href = "root.html#1.2110" style="text-decoration: none; color: #FF00FF">over</a> <a href = "root.html#1.2180" style="text-decoration: none; color: #FF00FF">r></a> <a href = "root.html#1.2080" style="text-decoration: none; color: #FF00FF">+</a> <a href = "root.html#1.2170" style="text-decoration: none; color: #FF00FF">>r</a> <a href = "root.html#1.2500" style="text-decoration: none; color: #FF00FF">carry</a> <a href = "root.html#1.2080" style="text-decoration: none; color: #FF00FF">+</a> 
   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.2950" style="text-decoration: none; color: #00AAAA">then</a>  </font><font color=#FF00FF><a href = "root.html#1.2180" style="text-decoration: none; color: #FF00FF">r></a> 
</font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>um*                                  &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0410 u1 u2 -- ud 
   &nbsp;</font><font color=#AA0000>0 </font><font color=#00AAAA><a href = "root.html#1.1170" style="text-decoration: none; color: #00AAAA">[</a> </font><font color=#AA00AA><a href = "root.html#1.0050" style="text-decoration: none; color: #AA00AA">cellbits</a> </font><font color=#FF00FF><a href = "root.html#1.2030" style="text-decoration: none; color: #FF00FF">2/</a> </font><font color=#00AAAA><a href = "root.html#1.1180" style="text-decoration: none; color: #00AAAA">]</a> <a href = "root.html#1.1260" style="text-decoration: none; color: #00AAAA">literal</a>          &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>cell is an even number of bits 
   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.2980" style="text-decoration: none; color: #00AAAA">for</a> </font><font color=#0000FF><a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">(um*)</a> <a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">(um*)</a> </font><font color=#00AAAA><a href = "root.html#1.2990" style="text-decoration: none; color: #00AAAA">next</a> 
   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2170" style="text-decoration: none; color: #FF00FF">>r</a> <a href = "root.html#1.2140" style="text-decoration: none; color: #FF00FF">nip</a> <a href = "root.html#1.2180" style="text-decoration: none; color: #FF00FF">r></a> <a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a> 
</font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 

</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>Long division takes about 340 cycles at 16-bit. 
</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>Latency = 25 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>(um/mod) 
   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2170" style="text-decoration: none; color: #FF00FF">>r</a>  <a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a> <a href = "root.html#1.2040" style="text-decoration: none; color: #FF00FF">2*c</a> <a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a> <a href = "root.html#1.2040" style="text-decoration: none; color: #FF00FF">2*c</a>              &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2dividend | divisor 
   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2500" style="text-decoration: none; color: #FF00FF">carry</a> </font><font color=#00AAAA><a href = "root.html#1.2930" style="text-decoration: none; color: #00AAAA">if</a> 
       &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2190" style="text-decoration: none; color: #FF00FF">r@</a> <a href = "root.html#1.2090" style="text-decoration: none; color: #FF00FF">-</a>  &nbsp;</font><font color=#AA0000>0 </font><font color=#FF00FF><a href = "root.html#1.2520" style="text-decoration: none; color: #FF00FF">>carry</a> 
   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.2940" style="text-decoration: none; color: #00AAAA">else</a> 
       &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2100" style="text-decoration: none; color: #FF00FF">dup</a> <a href = "root.html#1.2190" style="text-decoration: none; color: #FF00FF">r@</a>  <a href = "root.html#1.2090" style="text-decoration: none; color: #FF00FF">-</a> <a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a>                 &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>test subtraction 
       &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2500" style="text-decoration: none; color: #FF00FF">carry</a> <a href = "root.html#1.2150" style="text-decoration: none; color: #FF00FF">0=</a> </font><font color=#00AAAA><a href = "root.html#1.2930" style="text-decoration: none; color: #00AAAA">if</a>  </font><font color=#FF00FF><a href = "root.html#1.2190" style="text-decoration: none; color: #FF00FF">r@</a> <a href = "root.html#1.2090" style="text-decoration: none; color: #FF00FF">-</a>  </font><font color=#00AAAA><a href = "root.html#1.2950" style="text-decoration: none; color: #00AAAA">then</a>        &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>keep it 
   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.2950" style="text-decoration: none; color: #00AAAA">then</a> 
   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2180" style="text-decoration: none; color: #FF00FF">r></a>  <a href = "root.html#1.2500" style="text-decoration: none; color: #FF00FF">carry</a>                          &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>carry is safe on the stack 
</font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>um/mod                               &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0420 ud u -- ur uq 
   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2110" style="text-decoration: none; color: #FF00FF">over</a> <a href = "root.html#1.2690" style="text-decoration: none; color: #FF00FF">over-</a> <a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a> <a href = "root.html#1.2500" style="text-decoration: none; color: #FF00FF">carry</a> 
   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.2930" style="text-decoration: none; color: #00AAAA">if</a>  </font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a> <a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a> <a href = "root.html#1.2100" style="text-decoration: none; color: #FF00FF">dup</a> <a href = "root.html#1.2060" style="text-decoration: none; color: #FF00FF">xor</a> 
       &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2100" style="text-decoration: none; color: #FF00FF">dup</a> <a href = "root.html#1.2010" style="text-decoration: none; color: #FF00FF">invert</a>  </font><font color=#00AAAA><a href = "root.html#1.1230" style="text-decoration: none; color: #00AAAA">exit</a>               &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>overflow = 0 -1 
   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.2950" style="text-decoration: none; color: #00AAAA">then</a> 
   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1170" style="text-decoration: none; color: #00AAAA">[</a> </font><font color=#AA00AA><a href = "root.html#1.0050" style="text-decoration: none; color: #AA00AA">cellbits</a> </font><font color=#FF00FF><a href = "root.html#1.2030" style="text-decoration: none; color: #FF00FF">2/</a> </font><font color=#00AAAA><a href = "root.html#1.1180" style="text-decoration: none; color: #00AAAA">]</a> <a href = "root.html#1.1260" style="text-decoration: none; color: #00AAAA">literal</a> 
   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.2980" style="text-decoration: none; color: #00AAAA">for</a> </font><font color=#0000FF><a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">(um/mod)</a> </font><font color=#FF00FF><a href = "root.html#1.2520" style="text-decoration: none; color: #FF00FF">>carry</a> 
       &nbsp;</font><font color=#0000FF><a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">(um/mod)</a> </font><font color=#FF00FF><a href = "root.html#1.2520" style="text-decoration: none; color: #FF00FF">>carry</a> 
   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.2990" style="text-decoration: none; color: #00AAAA">next</a> 
   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a> <a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a> <a href = "root.html#1.2040" style="text-decoration: none; color: #FF00FF">2*c</a> <a href = "root.html#1.2010" style="text-decoration: none; color: #FF00FF">invert</a>               &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>finish quotient 
</font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 

</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>*    &nbsp;</font><font color=#0000FF><a href = "forth.html#2.0410" style="text-decoration: none; color: #0000FF">um*</a> </font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>                     &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0430 n1 n2 -- n3 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>dnegate                              &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0440 d -- -d 
       &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2010" style="text-decoration: none; color: #FF00FF">invert</a> <a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a> <a href = "root.html#1.2010" style="text-decoration: none; color: #FF00FF">invert</a> </font><font color=#AA0000>1 </font><font color=#FF00FF><a href = "root.html#1.2080" style="text-decoration: none; color: #FF00FF">+</a> <a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a> </font><font color=#AA0000>0 </font><font color=#FF00FF><a href = "root.html#1.2720" style="text-decoration: none; color: #FF00FF">+c</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>abs  &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2100" style="text-decoration: none; color: #FF00FF">dup</a> <a href = "root.html#1.2160" style="text-decoration: none; color: #FF00FF">0<</a> </font><font color=#00AAAA><a href = "root.html#1.2930" style="text-decoration: none; color: #00AAAA">if</a> </font><font color=#0000FF><a href = "forth.html#2.0380" style="text-decoration: none; color: #0000FF">negate</a> </font><font color=#00AAAA><a href = "root.html#1.2950" style="text-decoration: none; color: #00AAAA">then</a> <a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>        &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0450 n -- u 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>dabs  </font><font color=#FF00FF><a href = "root.html#1.2100" style="text-decoration: none; color: #FF00FF">dup</a> <a href = "root.html#1.2160" style="text-decoration: none; color: #FF00FF">0<</a> </font><font color=#00AAAA><a href = "root.html#1.2930" style="text-decoration: none; color: #00AAAA">if</a> </font><font color=#0000FF><a href = "forth.html#2.0440" style="text-decoration: none; color: #0000FF">dnegate</a> </font><font color=#00AAAA><a href = "root.html#1.2950" style="text-decoration: none; color: #00AAAA">then</a> <a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>       &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0460 d -- ud 

</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>m/mod 
   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2100" style="text-decoration: none; color: #FF00FF">dup</a> <a href = "root.html#1.2160" style="text-decoration: none; color: #FF00FF">0<</a> <a href = "root.html#1.2100" style="text-decoration: none; color: #FF00FF">dup</a> <a href = "root.html#1.2170" style="text-decoration: none; color: #FF00FF">>r</a> 
   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.2930" style="text-decoration: none; color: #00AAAA">if</a> </font><font color=#0000FF><a href = "forth.html#2.0380" style="text-decoration: none; color: #0000FF">negate</a>  </font><font color=#FF00FF><a href = "root.html#1.2170" style="text-decoration: none; color: #FF00FF">>r</a> 
      &nbsp;</font><font color=#0000FF><a href = "forth.html#2.0440" style="text-decoration: none; color: #0000FF">dnegate</a> </font><font color=#FF00FF><a href = "root.html#1.2180" style="text-decoration: none; color: #FF00FF">r></a> 
   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.2950" style="text-decoration: none; color: #00AAAA">then</a> </font><font color=#FF00FF><a href = "root.html#1.2170" style="text-decoration: none; color: #FF00FF">>r</a> <a href = "root.html#1.2100" style="text-decoration: none; color: #FF00FF">dup</a> <a href = "root.html#1.2160" style="text-decoration: none; color: #FF00FF">0<</a> 
   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.2930" style="text-decoration: none; color: #00AAAA">if</a> </font><font color=#FF00FF><a href = "root.html#1.2190" style="text-decoration: none; color: #FF00FF">r@</a> <a href = "root.html#1.2080" style="text-decoration: none; color: #FF00FF">+</a> 
   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.2950" style="text-decoration: none; color: #00AAAA">then</a> </font><font color=#FF00FF><a href = "root.html#1.2180" style="text-decoration: none; color: #FF00FF">r></a> </font><font color=#0000FF><a href = "forth.html#2.0420" style="text-decoration: none; color: #0000FF">um/mod</a> 
   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2180" style="text-decoration: none; color: #FF00FF">r></a> </font><font color=#00AAAA><a href = "root.html#1.2930" style="text-decoration: none; color: #00AAAA">if</a> 
      &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a> </font><font color=#0000FF><a href = "forth.html#2.0380" style="text-decoration: none; color: #0000FF">negate</a> </font><font color=#FF00FF><a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a> 
   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.2950" style="text-decoration: none; color: #00AAAA">then</a> 
</font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>/mod  &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2110" style="text-decoration: none; color: #FF00FF">over</a> <a href = "root.html#1.2160" style="text-decoration: none; color: #FF00FF">0<</a> <a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a> </font><font color=#0000FF><a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">m/mod</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>          &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0470 n1 n2 -- rem quot 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>mod   &nbsp;</font><font color=#0000FF><a href = "forth.html#2.0470" style="text-decoration: none; color: #0000FF">/mod</a> </font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>                   &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0480 n1 n2 -- rem 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>/     &nbsp;</font><font color=#0000FF><a href = "forth.html#2.0470" style="text-decoration: none; color: #0000FF">/mod</a> </font><font color=#FF00FF><a href = "root.html#1.2140" style="text-decoration: none; color: #FF00FF">nip</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>                    &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0490 n1 n2 -- quot 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>m*                                   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0500 n1 n2 -- d 
   &nbsp;</font><font color=#0000FF><a href = "forth.html#2.0330" style="text-decoration: none; color: #0000FF">2dup</a> </font><font color=#FF00FF><a href = "root.html#1.2060" style="text-decoration: none; color: #FF00FF">xor</a> <a href = "root.html#1.2160" style="text-decoration: none; color: #FF00FF">0<</a> <a href = "root.html#1.2170" style="text-decoration: none; color: #FF00FF">>r</a> 
   &nbsp;</font><font color=#0000FF><a href = "forth.html#2.0450" style="text-decoration: none; color: #0000FF">abs</a> </font><font color=#FF00FF><a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a> </font><font color=#0000FF><a href = "forth.html#2.0450" style="text-decoration: none; color: #0000FF">abs</a> <a href = "forth.html#2.0410" style="text-decoration: none; color: #0000FF">um*</a> 
   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2180" style="text-decoration: none; color: #FF00FF">r></a> </font><font color=#00AAAA><a href = "root.html#1.2930" style="text-decoration: none; color: #00AAAA">if</a> </font><font color=#0000FF><a href = "forth.html#2.0440" style="text-decoration: none; color: #0000FF">dnegate</a> </font><font color=#00AAAA><a href = "root.html#1.2950" style="text-decoration: none; color: #00AAAA">then</a> 
</font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>*/mod  </font><font color=#FF00FF><a href = "root.html#1.2170" style="text-decoration: none; color: #FF00FF">>r</a> </font><font color=#0000FF><a href = "forth.html#2.0500" style="text-decoration: none; color: #0000FF">m*</a> </font><font color=#FF00FF><a href = "root.html#1.2180" style="text-decoration: none; color: #FF00FF">r></a> </font><font color=#0000FF><a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">m/mod</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>              &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0510 n1 n2 n3 -- rem quot 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>*/    &nbsp;</font><font color=#0000FF><a href = "forth.html#2.0510" style="text-decoration: none; color: #0000FF">*/mod</a> </font><font color=#FF00FF><a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a> <a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>             &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0520 n1 n2 n3 -- n4 

</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>In order to use CREATE DOES>, we need ',' defined here. 

</font><font color=#AA00AA><a href = "root.html#1.0070" style="text-decoration: none; color: #AA00AA">dp</a> </font><font color=#0000FF><a href = "forth.html#2.0160" style="text-decoration: none; color: #0000FF">cell+</a> </font><font color=#AA00AA><a href = "root.html#1.0070" style="text-decoration: none; color: #AA00AA">dp</a> </font><font color=#0000FF><a href = "forth.html#2.0200" style="text-decoration: none; color: #0000FF">!</a> </font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>variables shared with chad's interpreter 
</font><font color=#00AAAA><a href = "root.html#1.1130" style="text-decoration: none; color: #00AAAA">variable</a> </font><font color=#AA00AA>base                          &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0530 -- a-addr 
</font><font color=#00AAAA><a href = "root.html#1.1130" style="text-decoration: none; color: #00AAAA">variable</a> </font><font color=#AA00AA>state                         &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0540 -- a-addr 
</font><font color=#00AAAA><a href = "root.html#1.1060" style="text-decoration: none; color: #00AAAA">align</a> 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>aligned  </font><font color=#00AAAA><a href = "root.html#1.1170" style="text-decoration: none; color: #00AAAA">[</a> </font><font color=#AA00AA><a href = "root.html#1.0060" style="text-decoration: none; color: #AA00AA">cell</a> </font><font color=#0000FF><a href = "forth.html#2.0370" style="text-decoration: none; color: #0000FF">1-</a> </font><font color=#00AAAA><a href = "root.html#1.1180" style="text-decoration: none; color: #00AAAA">]</a> <a href = "root.html#1.1260" style="text-decoration: none; color: #00AAAA">literal</a> </font><font color=#FF00FF><a href = "root.html#1.2080" style="text-decoration: none; color: #FF00FF">+</a>       &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>1.1050 addr1 -- addr2 
          &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1170" style="text-decoration: none; color: #00AAAA">[</a> </font><font color=#AA00AA><a href = "root.html#1.0060" style="text-decoration: none; color: #AA00AA">cell</a> </font><font color=#0000FF><a href = "forth.html#2.0380" style="text-decoration: none; color: #0000FF">negate</a> </font><font color=#00AAAA><a href = "root.html#1.1180" style="text-decoration: none; color: #00AAAA">]</a> <a href = "root.html#1.1260" style="text-decoration: none; color: #00AAAA">literal</a> </font><font color=#FF00FF><a href = "root.html#1.2070" style="text-decoration: none; color: #FF00FF">and</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>align   &nbsp;</font><font color=#AA00AA><a href = "root.html#1.0070" style="text-decoration: none; color: #AA00AA">dp</a> </font><font color=#0000FF><a href = "forth.html#2.0210" style="text-decoration: none; color: #0000FF">@</a> <a href = "forth.html#1.1050" style="text-decoration: none; color: #0000FF">aligned</a> </font><font color=#AA00AA><a href = "root.html#1.0070" style="text-decoration: none; color: #AA00AA">dp</a> </font><font color=#0000FF><a href = "forth.html#2.0200" style="text-decoration: none; color: #0000FF">!</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>         &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>1.1060 -- 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>allot   &nbsp;</font><font color=#AA00AA><a href = "root.html#1.0070" style="text-decoration: none; color: #AA00AA">dp</a> </font><font color=#0000FF><a href = "forth.html#2.0400" style="text-decoration: none; color: #0000FF">+!</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>                     &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0550 n -- 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>here    &nbsp;</font><font color=#AA00AA><a href = "root.html#1.0070" style="text-decoration: none; color: #AA00AA">dp</a> </font><font color=#0000FF><a href = "forth.html#2.0210" style="text-decoration: none; color: #0000FF">@</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>                      &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0560 -- addr 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>,       &nbsp;</font><font color=#0000FF><a href = "forth.html#1.1060" style="text-decoration: none; color: #0000FF">align</a> <a href = "forth.html#2.0560" style="text-decoration: none; color: #0000FF">here</a> <a href = "forth.html#2.0200" style="text-decoration: none; color: #0000FF">!</a>  </font><font color=#AA00AA><a href = "root.html#1.0060" style="text-decoration: none; color: #AA00AA">cell</a> </font><font color=#0000FF><a href = "forth.html#2.0550" style="text-decoration: none; color: #0000FF">allot</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>  &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0570 x -- 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>c,      &nbsp;</font><font color=#0000FF><a href = "forth.html#2.0560" style="text-decoration: none; color: #0000FF">here</a> <a href = "forth.html#2.0180" style="text-decoration: none; color: #0000FF">c!</a>  </font><font color=#AA0000>1 </font><font color=#0000FF><a href = "forth.html#2.0550" style="text-decoration: none; color: #0000FF">allot</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>          &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0580 c -- 

</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>We're about at 300 instructions at this point. 
</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>Paul Bennett's recommended minimum word set is mostly present. 
</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>DO, I, J, and LOOP are not included. Use for next r@ instead. 
</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>CATCH and THROW are not included. They use stack. 
</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>DOES> needs a compilable CREATE. 

</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>u<    &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2090" style="text-decoration: none; color: #FF00FF">-</a> <a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a> <a href = "root.html#1.2500" style="text-decoration: none; color: #FF00FF">carry</a> <a href = "root.html#1.2150" style="text-decoration: none; color: #FF00FF">0=</a> <a href = "root.html#1.2150" style="text-decoration: none; color: #FF00FF">0=</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>          &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0700 u1 u2 -- flag 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>min   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2110" style="text-decoration: none; color: #FF00FF">over</a> <a href = "root.html#1.2690" style="text-decoration: none; color: #FF00FF">over-</a> <a href = "root.html#1.2160" style="text-decoration: none; color: #FF00FF">0<</a> </font><font color=#00AAAA><a href = "root.html#1.2930" style="text-decoration: none; color: #00AAAA">if</a>              &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0710 n1 n2 -- n3 
        &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a> <a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a> </font><font color=#00AAAA><a href = "root.html#1.1230" style="text-decoration: none; color: #00AAAA">exit</a> <a href = "root.html#1.2950" style="text-decoration: none; color: #00AAAA">then</a>  </font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>max   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2110" style="text-decoration: none; color: #FF00FF">over</a> <a href = "root.html#1.2690" style="text-decoration: none; color: #FF00FF">over-</a> <a href = "root.html#1.2160" style="text-decoration: none; color: #FF00FF">0<</a> </font><font color=#00AAAA><a href = "root.html#1.2930" style="text-decoration: none; color: #00AAAA">if</a>              &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0720 n1 n2 -- n3 
        &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a> </font><font color=#00AAAA><a href = "root.html#1.1230" style="text-decoration: none; color: #00AAAA">exit</a> <a href = "root.html#1.2950" style="text-decoration: none; color: #00AAAA">then</a>  </font><font color=#FF00FF><a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a> <a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 

</font><font color=#00AAAA><a href = "root.html#1.1250" style="text-decoration: none; color: #00AAAA">CODE</a> </font><font color=#FF0000>depth                             &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0730 -- +n 
   &nbsp;</font><font color=#CCCCCC><a href = "asm.html#1.6260" style="text-decoration: none; color: #CCCCCC">status</a> <a href = "asm.html#1.7010" style="text-decoration: none; color: #CCCCCC">T->N</a> <a href = "asm.html#1.8030" style="text-decoration: none; color: #CCCCCC">d+1</a> <a href = "asm.html#1.9010" style="text-decoration: none; color: #CCCCCC">alu</a>  &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a> </font><font color=#AA0000>31 </font><font color=#CCCCCC><a href = "asm.html#1.9070" style="text-decoration: none; color: #CCCCCC">imm</a>  &nbsp;<a href = "asm.html#1.6120" style="text-decoration: none; color: #CCCCCC">T&N</a> <a href = "asm.html#1.8040" style="text-decoration: none; color: #CCCCCC">d-1</a> <a href = "asm.html#1.5020" style="text-decoration: none; color: #CCCCCC">RET</a> <a href = "asm.html#1.9010" style="text-decoration: none; color: #CCCCCC">alu</a> 
</font><font color=#00AAAA><a href = "asm.html#1.5010" style="text-decoration: none; color: #00AAAA">;CODE</a> 

</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>exec2: </font><font color=#FF00FF><a href = "root.html#1.2020" style="text-decoration: none; color: #FF00FF">2*</a> </font><font color=#00AAAA><a href = "root.html#1.1170" style="text-decoration: none; color: #00AAAA">[</a> <a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>            &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0740 n -- \ for list of 2-inst literals 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>exec1: </font><font color=#FF00FF><a href = "root.html#1.2020" style="text-decoration: none; color: #FF00FF">2*</a> <a href = "root.html#1.2180" style="text-decoration: none; color: #FF00FF">r></a> <a href = "root.html#1.2080" style="text-decoration: none; color: #FF00FF">+</a> <a href = "root.html#1.2170" style="text-decoration: none; color: #FF00FF">>r</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a>      &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.0750 n -- \ for list of 1-inst literals 

</font><font color=#00AAAA><a href = "root.html#1.1290" style="text-decoration: none; color: #00AAAA">there</a> <a href = "root.html#1.0400" style="text-decoration: none; color: #00AAAA">.</a> <a href = "root.html#1.1030" style="text-decoration: none; color: #00AAAA">.(</a> </font><font color=#008800>instructions used by core )</font><font color=#00AAAA><a href = "root.html#1.1090" style="text-decoration: none; color: #00AAAA">cr</a> 
</pre>
</body>
</html>
