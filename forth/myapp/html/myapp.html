<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>myapp</title>
<link rel="stylesheet" href="doc.css">
</head>
<body>
<h1>myapp</h1>
<pre class="forth">
<font color=black>
<hr>

</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>Application example 

</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>To load: With your working directory here, type: 
</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>..\chad include myapp.f  (in Windows), or 
</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>../chad include myapp.f  (in Linux) 

</font><font color=#00AAAA><a href = "root.html#1.1000" style="text-decoration: none; color: #00AAAA">include</a> </font><font color=#000000>../core.f 
</font><font color=#00AAAA><a href = "root.html#1.1000" style="text-decoration: none; color: #00AAAA">include</a> </font><font color=#000000>../coreext.f 
</font><font color=#00AAAA><a href = "root.html#1.1000" style="text-decoration: none; color: #00AAAA">include</a> </font><font color=#000000>../redirect.f 
</font><font color=#00AAAA><a href = "root.html#1.1000" style="text-decoration: none; color: #00AAAA">include</a> </font><font color=#000000>../frame.f 
</font><font color=#00AAAA><a href = "root.html#1.1000" style="text-decoration: none; color: #00AAAA">include</a> </font><font color=#000000>../numout.f 
</font><font color=#00AAAA><a href = "root.html#1.1000" style="text-decoration: none; color: #00AAAA">include</a> </font><font color=#000000>../flash.f 
</font><font color=#00AAAA><a href = "root.html#1.1000" style="text-decoration: none; color: #00AAAA">include</a> </font><font color=#000000>../ctea.f 
</font><font color=#00AAAA><a href = "root.html#1.1000" style="text-decoration: none; color: #00AAAA">include</a> </font><font color=#000000>../bootload.f 

</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>iomap.c sends errors to the Chad interpreter 
</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>A QUIT loop running on the CPU would do something different. 

</font><font color=#00AAAA><a href = "root.html#1.1220" style="text-decoration: none; color: #00AAAA">:noname</a>  <a href = "root.html#1.1010" style="text-decoration: none; color: #00AAAA">(</a> </font><font color=#008800>error --  ) </font><font color=#0000FF><a href = "forth.html#2.0325" style="text-decoration: none; color: #0000FF">?dup</a> </font><font color=#00AAAA><a href = "root.html#1.2930" style="text-decoration: none; color: #00AAAA">if</a> </font><font color=#AA0000>$8000 </font><font color=#0000FF><a href = "forth.html#2.0120" style="text-decoration: none; color: #0000FF">io!</a> </font><font color=#00AAAA><a href = "root.html#1.2950" style="text-decoration: none; color: #00AAAA">then</a> 
</font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> <a href = "root.html#1.1320" style="text-decoration: none; color: #00AAAA">resolves</a> </font><font color=#0000FF><a href = "forth.html#2.0020" style="text-decoration: none; color: #0000FF">exception</a> 

</font><font color=#00AAAA><a href = "root.html#1.1310" style="text-decoration: none; color: #00AAAA">later</a> </font><font color=#FF0000>app 

</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>Without flash memory, initializing data space with non-blanks is 
</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>non-trivial. Cold boot starts out most of data space blank. 
</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>The app is responsible for initializing its variables. 
</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>Shared (with chad.c) variables: >in, tibs, dp, base, state. 

</font><font color=#00AAAA><a href = "root.html#1.1220" style="text-decoration: none; color: #00AAAA">:noname</a>  <a href = "root.html#1.1010" style="text-decoration: none; color: #00AAAA">(</a> </font><font color=#008800>--  )
 </font><font color=#0000FF><a href = "forth.html#2.0560" style="text-decoration: none; color: #0000FF">here</a>  </font><font color=#AA00AA><a href = "root.html#1.0074" style="text-decoration: none; color: #AA00AA">state</a> 
 </font><font color=#00AAAA><a href = "root.html#1.1170" style="text-decoration: none; color: #00AAAA">[</a> </font><font color=#AA00AA><a href = "root.html#1.0040" style="text-decoration: none; color: #AA00AA">dm-size</a> <a href = "root.html#1.0074" style="text-decoration: none; color: #AA00AA">state</a> </font><font color=#FF00FF><a href = "root.html#1.2090" style="text-decoration: none; color: #FF00FF">-</a> </font><font color=#AA00AA><a href = "root.html#1.0060" style="text-decoration: none; color: #AA00AA">cell</a> </font><font color=#0000FF><a href = "forth.html#2.0490" style="text-decoration: none; color: #0000FF">/</a> </font><font color=#00AAAA><a href = "root.html#1.1180" style="text-decoration: none; color: #00AAAA">]</a> <a href = "root.html#1.1260" style="text-decoration: none; color: #00AAAA">literal</a> 
 </font><font color=#00AAAA><a href = "root.html#1.2980" style="text-decoration: none; color: #00AAAA">for</a>  </font><font color=#AA0000>0 </font><font color=#FF00FF><a href = "root.html#1.2110" style="text-decoration: none; color: #FF00FF">over</a> </font><font color=#0000FF><a href = "forth.html#2.0200" style="text-decoration: none; color: #0000FF">!</a> </font><font color=#AA00AA><a href = "root.html#1.0060" style="text-decoration: none; color: #AA00AA">cell</a> </font><font color=#FF00FF><a href = "root.html#1.2080" style="text-decoration: none; color: #FF00FF">+</a>  </font><font color=#00AAAA><a href = "root.html#1.2990" style="text-decoration: none; color: #00AAAA">next</a>  </font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a> </font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>erase most everything 
 </font><font color=#AA00AA><a href = "root.html#1.0072" style="text-decoration: none; color: #AA00AA">dp</a> </font><font color=#0000FF><a href = "forth.html#2.0200" style="text-decoration: none; color: #0000FF">!</a>  <a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">decimal</a>  <a href = "forth.html#2.2900" style="text-decoration: none; color: #0000FF">fpclear</a>   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>restore dp, base, frp 
</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>app 
</font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> <a href = "root.html#1.1320" style="text-decoration: none; color: #00AAAA">resolves</a> </font><font color=#0000FF><a href = "forth.html#2.0010" style="text-decoration: none; color: #0000FF">cold</a> 


</font><font color=#00AAAA><a href = "root.html#1.1030" style="text-decoration: none; color: #00AAAA">.(</a> </font><font color=#008800>你好，世界  )</font><font color=#0000FF><a href = "forth.html#2.2111" style="text-decoration: none; color: #0000FF">cr</a> 

</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>Examples 

</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>fib </font><font color=#00AAAA><a href = "root.html#1.1010" style="text-decoration: none; color: #00AAAA">(</a> </font><font color=#008800>n1 -- n2  )
   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2100" style="text-decoration: none; color: #FF00FF">dup</a> </font><font color=#AA0000>2 </font><font color=#0000FF><a href = "forth.html#2.0140" style="text-decoration: none; color: #0000FF"><</a> </font><font color=#00AAAA><a href = "root.html#1.2930" style="text-decoration: none; color: #00AAAA">if</a> </font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a> </font><font color=#AA0000>1 </font><font color=#00AAAA><a href = "root.html#1.1230" style="text-decoration: none; color: #00AAAA">exit</a> <a href = "root.html#1.2950" style="text-decoration: none; color: #00AAAA">then</a> 
   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2100" style="text-decoration: none; color: #FF00FF">dup</a>  </font><font color=#AA0000>1 </font><font color=#FF00FF><a href = "root.html#1.2090" style="text-decoration: none; color: #FF00FF">-</a> </font><font color=#00AAAA><a href = "root.html#1.1245" style="text-decoration: none; color: #00AAAA">recurse</a> 
   &nbsp;</font><font color=#FF00FF><a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a> </font><font color=#AA0000>2 </font><font color=#FF00FF><a href = "root.html#1.2090" style="text-decoration: none; color: #FF00FF">-</a> </font><font color=#00AAAA><a href = "root.html#1.1245" style="text-decoration: none; color: #00AAAA">recurse</a>  </font><font color=#FF00FF><a href = "root.html#1.2080" style="text-decoration: none; color: #FF00FF">+</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 

</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>Try 25 fib, then stats 

</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>source  &nbsp;</font><font color=#AA00AA><a href = "root.html#1.0075" style="text-decoration: none; color: #AA00AA">tib</a> <a href = "root.html#1.0071" style="text-decoration: none; color: #AA00AA">tibs</a> </font><font color=#0000FF><a href = "forth.html#2.0210" style="text-decoration: none; color: #0000FF">@</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>/source  </font><font color=#0000FF><a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">source</a> </font><font color=#AA00AA><a href = "root.html#1.0070" style="text-decoration: none; color: #AA00AA">>in</a> </font><font color=#0000FF><a href = "forth.html#2.0210" style="text-decoration: none; color: #0000FF">@</a> <a href = "forth.html#2.1030" style="text-decoration: none; color: #0000FF">/string</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>\source  </font><font color=#0000FF><a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">/source</a>  </font><font color=#AA00AA><a href = "root.html#1.0071" style="text-decoration: none; color: #AA00AA">tibs</a> </font><font color=#0000FF><a href = "forth.html#2.0210" style="text-decoration: none; color: #0000FF">@</a> </font><font color=#AA00AA><a href = "root.html#1.0070" style="text-decoration: none; color: #AA00AA">>in</a> </font><font color=#0000FF><a href = "forth.html#2.0200" style="text-decoration: none; color: #0000FF">!</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>f\      &nbsp;</font><font color=#0000FF><a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">\source</a>  </font><font color=#FF00FF><a href = "root.html#1.2100" style="text-decoration: none; color: #FF00FF">dup</a> </font><font color=#0000FF><a href = "forth.html#2.4040" style="text-decoration: none; color: #0000FF">c,f</a> <a href = "forth.html#2.4045" style="text-decoration: none; color: #0000FF">write</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 

</font><font color=#AA0000>0 </font><font color=#AA00AA><a href = "forth.html#2.4021" style="text-decoration: none; color: #AA00AA">flwp_en</a> </font><font color=#0000FF><a href = "forth.html#2.4020" style="text-decoration: none; color: #0000FF">flash-wp</a>  </font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>enable flash writing 
</font><font color=#AA0000>0 </font><font color=#AA00AA><a href = "forth.html#2.4000" style="text-decoration: none; color: #AA00AA">sector</a> </font><font color=#0000FF><a href = "forth.html#2.0200" style="text-decoration: none; color: #0000FF">!</a>   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>in lowest 64KB 
</font><font color=#AA0000>4096 </font><font color=#0000FF><a href = "forth.html#2.4030" style="text-decoration: none; color: #0000FF">create-flash</a>  </font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>put data in 4K page starting here 
</font><font color=#0000FF><a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">f\</a> 
</pre>
</body>
</html>
