<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>flash</title>
<link rel="stylesheet" href="doc.css">
</head>
<body>
<h1>flash</h1>
<pre class="forth">
<font color=black>
<hr>

</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>SPI flash 

</font><font color=#00AAAA><a href = "root.html#1.1290" style="text-decoration: none; color: #00AAAA">there</a> 

</font><font color=#AA0000>4 </font><font color=#00AAAA><a href = "root.html#1.0140" style="text-decoration: none; color: #00AAAA">equ</a> </font><font color=#AA00AA>flashcon0  </font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>SPI controller registers 
</font><font color=#AA0000>5 </font><font color=#00AAAA><a href = "root.html#1.0140" style="text-decoration: none; color: #00AAAA">equ</a> </font><font color=#AA00AA>flashcon1 
</font><font color=#AA0000>27182 </font><font color=#00AAAA><a href = "root.html#1.0140" style="text-decoration: none; color: #00AAAA">equ</a> </font><font color=#AA00AA>flwp_en  &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>enable for flash-wp. 

</font><font color=#00AAAA><a href = "root.html#1.1130" style="text-decoration: none; color: #00AAAA">variable</a> </font><font color=#AA00AA>fwren0 </font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>lowest 64K sector number, set by `fwall` 
</font><font color=#00AAAA><a href = "root.html#1.1130" style="text-decoration: none; color: #00AAAA">variable</a> </font><font color=#AA00AA>fwren1 </font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>inverse of fwren0, used as a backup. Must be ~fwren0. 
</font><font color=#00AAAA><a href = "root.html#1.1130" style="text-decoration: none; color: #00AAAA">variable</a> </font><font color=#AA00AA>sector </font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.4000 -- a-addr 
</font><font color=#00AAAA><a href = "root.html#1.1130" style="text-decoration: none; color: #00AAAA">variable</a> </font><font color=#AA00AA>fp  &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.4010 -- a-addr 

</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>flash-wp  </font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.4020 sector key -- 
   &nbsp;</font><font color=#AA00AA><a href = "forth.html#(null)" style="text-decoration: none; color: #AA00AA">flwp_en</a> </font><font color=#FF00FF><a href = "root.html#1.2060" style="text-decoration: none; color: #FF00FF">xor</a> </font><font color=#00AAAA><a href = "root.html#1.2930" style="text-decoration: none; color: #00AAAA">if</a>  </font><font color=#FF00FF><a href = "root.html#1.2130" style="text-decoration: none; color: #FF00FF">drop</a> </font><font color=#00AAAA><a href = "root.html#1.1230" style="text-decoration: none; color: #00AAAA">exit</a>  <a href = "root.html#1.2950" style="text-decoration: none; color: #00AAAA">then</a> 
 </font><font color=#FF00FF><a href = "root.html#1.2100" style="text-decoration: none; color: #FF00FF">dup</a> </font><font color=#AA00AA><a href = "forth.html#(null)" style="text-decoration: none; color: #AA00AA">fwren0</a> </font><font color=#0000FF><a href = "forth.html#2.0200" style="text-decoration: none; color: #0000FF">!</a>  </font><font color=#FF00FF><a href = "root.html#1.2010" style="text-decoration: none; color: #FF00FF">invert</a> </font><font color=#AA00AA><a href = "forth.html#(null)" style="text-decoration: none; color: #AA00AA">fwren1</a> </font><font color=#0000FF><a href = "forth.html#2.0200" style="text-decoration: none; color: #0000FF">!</a> 
</font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 

</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>waitSPI  </font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>--   \ wait for SPI transfer to finish 
   &nbsp;</font><font color=#00AAAA><a href = "root.html#1.2900" style="text-decoration: none; color: #00AAAA">begin</a>  </font><font color=#AA00AA><a href = "forth.html#(null)" style="text-decoration: none; color: #AA00AA">flashcon0</a> </font><font color=#0000FF><a href = "forth.html#2.0110" style="text-decoration: none; color: #0000FF">io@</a>  </font><font color=#00AAAA><a href = "root.html#1.2960" style="text-decoration: none; color: #00AAAA">while</a>  </font><font color=#0000FF><a href = "forth.html#2.0100" style="text-decoration: none; color: #0000FF">noop</a>  </font><font color=#00AAAA><a href = "root.html#1.2970" style="text-decoration: none; color: #00AAAA">repeat</a> 
</font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>sendSPI  </font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>c -- \ transmit an SPI byte 
 </font><font color=#0000FF><a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">waitSPI</a>  </font><font color=#AA00AA><a href = "forth.html#(null)" style="text-decoration: none; color: #AA00AA">flashcon1</a> </font><font color=#0000FF><a href = "forth.html#2.0120" style="text-decoration: none; color: #0000FF">io!</a> 
</font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>readSPI  </font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>-- c \ result of transfer 
 </font><font color=#0000FF><a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">waitSPI</a>  </font><font color=#AA00AA><a href = "forth.html#(null)" style="text-decoration: none; color: #AA00AA">flashcon1</a> </font><font color=#0000FF><a href = "forth.html#2.0110" style="text-decoration: none; color: #0000FF">io@</a> 
</font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>SPIcommand  </font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>c -- 
 </font><font color=#0000FF><a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">waitSPI</a>  &nbsp;</font><font color=#AA0000>0 </font><font color=#AA00AA><a href = "forth.html#(null)" style="text-decoration: none; color: #AA00AA">flashcon0</a> </font><font color=#0000FF><a href = "forth.html#2.0120" style="text-decoration: none; color: #0000FF">io!</a>    &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>drop CS line 
 </font><font color=#0000FF><a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">sendSPI</a> 
</font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>SPIend  </font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>-- 
 </font><font color=#0000FF><a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">waitSPI</a>  &nbsp;</font><font color=#AA0000>1 </font><font color=#AA00AA><a href = "forth.html#(null)" style="text-decoration: none; color: #AA00AA">flashcon0</a> </font><font color=#0000FF><a href = "forth.html#2.0120" style="text-decoration: none; color: #0000FF">io!</a>    &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>raise CS line 
</font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>waitflash  </font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>-- 
 </font><font color=#00AAAA><a href = "root.html#1.2900" style="text-decoration: none; color: #00AAAA">begin</a>  </font><font color=#AA0000>5 </font><font color=#0000FF><a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">SPIcommand</a>  </font><font color=#AA0000>0 </font><font color=#0000FF><a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">sendSPI</a>  
       &nbsp;</font><font color=#0000FF><a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">readSPI</a>  </font><font color=#AA0000>1 </font><font color=#FF00FF><a href = "root.html#1.2070" style="text-decoration: none; color: #FF00FF">and</a> 
 </font><font color=#00AAAA><a href = "root.html#1.2960" style="text-decoration: none; color: #00AAAA">while</a>  </font><font color=#0000FF><a href = "forth.html#2.0100" style="text-decoration: none; color: #0000FF">noop</a> 
 </font><font color=#00AAAA><a href = "root.html#1.2970" style="text-decoration: none; color: #00AAAA">repeat</a> 
</font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>fl_wren  </font><font color=#AA0000>6 </font><font color=#0000FF><a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">SPIcommand</a> <a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">SPIend</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>fl_wrdi  </font><font color=#AA0000>4 </font><font color=#0000FF><a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">SPIcommand</a> <a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">SPIend</a> </font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 

</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>sendaddr24  </font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>addr -- 
   &nbsp;</font><font color=#AA00AA><a href = "forth.html#2.4000" style="text-decoration: none; color: #AA00AA">sector</a> </font><font color=#0000FF><a href = "forth.html#2.0210" style="text-decoration: none; color: #0000FF">@</a> <a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">sendSPI</a> 
 </font><font color=#FF00FF><a href = "root.html#1.2100" style="text-decoration: none; color: #FF00FF">dup</a> </font><font color=#AA0000>8 </font><font color=#FF00FF><a href = "root.html#1.2200" style="text-decoration: none; color: #FF00FF">rshift</a> </font><font color=#0000FF><a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">sendSPI</a>  <a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">sendSPI</a> 
</font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 

</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>]read  &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.4080 -- 
 </font><font color=#0000FF><a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">waitSPI</a>  </font><font color=#AA0000>1 </font><font color=#AA00AA><a href = "forth.html#(null)" style="text-decoration: none; color: #AA00AA">flashcon0</a> </font><font color=#0000FF><a href = "forth.html#2.0120" style="text-decoration: none; color: #0000FF">io!</a> 
</font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>]write  </font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.4050 -- 
 </font><font color=#0000FF><a href = "forth.html#2.4080" style="text-decoration: none; color: #0000FF">]read</a>  <a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">fl_wrdi</a> 
</font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>write[  </font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.4030 fa -- 
 </font><font color=#AA00AA><a href = "forth.html#(null)" style="text-decoration: none; color: #AA00AA">fwren0</a> </font><font color=#0000FF><a href = "forth.html#2.0210" style="text-decoration: none; color: #0000FF">@</a>  </font><font color=#FF00FF><a href = "root.html#1.2100" style="text-decoration: none; color: #FF00FF">dup</a> 
 </font><font color=#AA00AA><a href = "forth.html#(null)" style="text-decoration: none; color: #AA00AA">fwren1</a> </font><font color=#0000FF><a href = "forth.html#2.0210" style="text-decoration: none; color: #0000FF">@</a>  <a href = "forth.html#2.0135" style="text-decoration: none; color: #0000FF"><></a> </font><font color=#AA0000>-81 </font><font color=#FF00FF><a href = "root.html#1.2070" style="text-decoration: none; color: #FF00FF">and</a> </font><font color=#0000FF><a href = "forth.html#2.0020" style="text-decoration: none; color: #0000FF">exception</a>  &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>corrupted wall 
 </font><font color=#AA00AA><a href = "forth.html#2.4000" style="text-decoration: none; color: #AA00AA">sector</a> </font><font color=#0000FF><a href = "forth.html#2.0210" style="text-decoration: none; color: #0000FF">@</a>  <a href = "forth.html#2.0140" style="text-decoration: none; color: #0000FF"><</a>  </font><font color=#AA0000>-82 </font><font color=#FF00FF><a href = "root.html#1.2070" style="text-decoration: none; color: #FF00FF">and</a> </font><font color=#0000FF><a href = "forth.html#2.0020" style="text-decoration: none; color: #0000FF">exception</a>  &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>under the wall 
 </font><font color=#AA00AA><a href = "forth.html#2.4010" style="text-decoration: none; color: #AA00AA">fp</a> </font><font color=#0000FF><a href = "forth.html#2.0200" style="text-decoration: none; color: #0000FF">!</a>  <a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">waitflash</a> 
 </font><font color=#0000FF><a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">fl_wren</a> 
 </font><font color=#AA0000>2 </font><font color=#0000FF><a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">SPIcommand</a>  <a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">sendaddr24</a> 
</font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>>f     &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.4040 c -- 
 </font><font color=#0000FF><a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">waitSPI</a>  <a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">sendSPI</a> 
 </font><font color=#AA00AA><a href = "forth.html#2.4010" style="text-decoration: none; color: #AA00AA">fp</a> </font><font color=#0000FF><a href = "forth.html#2.0210" style="text-decoration: none; color: #0000FF">@</a> </font><font color=#AA0000>1 </font><font color=#FF00FF><a href = "root.html#1.2080" style="text-decoration: none; color: #FF00FF">+</a> <a href = "root.html#1.2100" style="text-decoration: none; color: #FF00FF">dup</a> </font><font color=#AA0000>65535 </font><font color=#FF00FF><a href = "root.html#1.2070" style="text-decoration: none; color: #FF00FF">and</a>  <a href = "root.html#1.2100" style="text-decoration: none; color: #FF00FF">dup</a> </font><font color=#AA00AA><a href = "forth.html#2.4010" style="text-decoration: none; color: #AA00AA">fp</a> </font><font color=#0000FF><a href = "forth.html#2.0200" style="text-decoration: none; color: #0000FF">!</a> </font><font color=#00AAAA><a href = "root.html#1.1010" style="text-decoration: none; color: #00AAAA">(</a> </font><font color=#008800>fp fp16  )
 </font><font color=#FF00FF><a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a> </font><font color=#AA0000>65536 </font><font color=#FF00FF><a href = "root.html#1.2070" style="text-decoration: none; color: #FF00FF">and</a>  </font><font color=#00AAAA><a href = "root.html#1.2930" style="text-decoration: none; color: #00AAAA">if</a> </font><font color=#AA0000>1 </font><font color=#AA00AA><a href = "forth.html#2.4000" style="text-decoration: none; color: #AA00AA">sector</a> </font><font color=#0000FF><a href = "forth.html#2.0400" style="text-decoration: none; color: #0000FF">+!</a> </font><font color=#00AAAA><a href = "root.html#1.2950" style="text-decoration: none; color: #00AAAA">then</a> <a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>bump sector if fp wrapped 
 </font><font color=#FF00FF><a href = "root.html#1.2100" style="text-decoration: none; color: #FF00FF">dup</a> </font><font color=#AA0000>255 </font><font color=#FF00FF><a href = "root.html#1.2070" style="text-decoration: none; color: #FF00FF">and</a> <a href = "root.html#1.2150" style="text-decoration: none; color: #FF00FF">0=</a> 
 </font><font color=#FF00FF><a href = "root.html#1.2700" style="text-decoration: none; color: #FF00FF">dup>r</a>  </font><font color=#00AAAA><a href = "root.html#1.2930" style="text-decoration: none; color: #00AAAA">if</a>  </font><font color=#0000FF><a href = "forth.html#2.4050" style="text-decoration: none; color: #0000FF">]write</a>  </font><font color=#00AAAA><a href = "root.html#1.2950" style="text-decoration: none; color: #00AAAA">then</a>   &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>end write at end of page 
 </font><font color=#AA0000>4095 </font><font color=#FF00FF><a href = "root.html#1.2070" style="text-decoration: none; color: #FF00FF">and</a> <a href = "root.html#1.2150" style="text-decoration: none; color: #FF00FF">0=</a>      &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>erase next 4K sector? 
 </font><font color=#00AAAA><a href = "root.html#1.2930" style="text-decoration: none; color: #00AAAA">if</a>  </font><font color=#0000FF><a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">fl_wren</a>  
    &nbsp;</font><font color=#AA0000>32 </font><font color=#0000FF><a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">SPIcommand</a>  <a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">sendaddr24</a> <a href = "forth.html#2.4080" style="text-decoration: none; color: #0000FF">]read</a> 
 </font><font color=#00AAAA><a href = "root.html#1.2950" style="text-decoration: none; color: #00AAAA">then</a> 
 </font><font color=#FF00FF><a href = "root.html#1.2180" style="text-decoration: none; color: #FF00FF">r></a> </font><font color=#00AAAA><a href = "root.html#1.2930" style="text-decoration: none; color: #00AAAA">if</a>  </font><font color=#AA00AA><a href = "forth.html#2.4010" style="text-decoration: none; color: #AA00AA">fp</a> </font><font color=#0000FF><a href = "forth.html#2.0210" style="text-decoration: none; color: #0000FF">@</a> <a href = "forth.html#2.4030" style="text-decoration: none; color: #0000FF">write[</a>  </font><font color=#00AAAA><a href = "root.html#1.2950" style="text-decoration: none; color: #00AAAA">then</a>  &nbsp;<a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>start a new page 
</font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>read[  &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.4060 fa -- 
 </font><font color=#0000FF><a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">waitflash</a>  </font><font color=#AA0000>11 </font><font color=#0000FF><a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">SPIcommand</a>  <a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">sendaddr24</a> 
</font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 
</font><font color=#00AAAA><a href = "root.html#1.1210" style="text-decoration: none; color: #00AAAA">:</a> </font><font color=#FF0000>f>     &nbsp;</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>2.4070 c -- 
   &nbsp;</font><font color=#0000FF><a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">sendSPI</a>  <a href = "forth.html#(null)" style="text-decoration: none; color: #0000FF">readSPI</a> 
</font><font color=#00AAAA><a href = "root.html#1.1240" style="text-decoration: none; color: #00AAAA">;</a> 

</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>The `>f` sequence is: 
</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>if `fp[7:0]` is 0, end the page program command. 
</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>if `fp[11:0]` is 0, erase the next 4KB sector. 
</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>if `fp[7:0]` is 0, start a new page program command. 
</font><font color=#00AAAA><a href = "root.html#1.1020" style="text-decoration: none; color: #00AAAA">\</a> </font><font color=#008800>if `fp[15:0]` is 0, clear `fp` and bump `sector`. 

</font><font color=#00AAAA><a href = "root.html#1.1290" style="text-decoration: none; color: #00AAAA">there</a> </font><font color=#FF00FF><a href = "root.html#1.2120" style="text-decoration: none; color: #FF00FF">swap</a> <a href = "root.html#1.2090" style="text-decoration: none; color: #FF00FF">-</a> </font><font color=#0000FF><a href = "forth.html#2.3300" style="text-decoration: none; color: #0000FF">.</a> </font><font color=#00AAAA><a href = "root.html#1.1030" style="text-decoration: none; color: #00AAAA">.(</a> </font><font color=#008800>instructions used by flash access )</font><font color=#0000FF><a href = "forth.html#2.2111" style="text-decoration: none; color: #0000FF">cr</a> 
</pre>
</body>
</html>
